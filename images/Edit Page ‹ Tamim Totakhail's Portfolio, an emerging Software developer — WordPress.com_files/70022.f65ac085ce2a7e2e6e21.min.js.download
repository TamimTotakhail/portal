"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[70022],{"./signup/config/steps-pure.js":(e,t,s)=>{s.d(t,{Z:()=>r,s:()=>d});var n=s("../packages/calypso-config/src/index.ts"),i=s("../packages/calypso-products/src/constants/types.ts"),a=s("../packages/calypso-products/src/constants/wpcom.ts"),p=s("../packages/i18n-calypso/src/index.js");const o=()=>{};function d({addPlanToCart:e=o,addWithThemePlanToCart:t=o,addAddOnsToCart:s=o,createAccount:d=o,createSite:r=o,createWpForTeamsSite:l=o,createSiteOrDomain:c=o,createSiteWithCart:u=o,setDesignOnSite:m=o,setThemeOnSite:g=o,setOptionsOnSite:S=o,setStoreFeatures:h=o,setIntentOnSite:f=o,addDomainToCart:D=o,launchSiteApi:y=o,isPlanFulfilled:b=o,isAddOnsFulfilled:I=o,isDomainFulfilled:C=o,maybeRemoveStepForUserlessCheckout:v=o,isNewOrExistingSiteFulfilled:w=o,createSiteAndAddDIFMToCart:N=o,excludeStepIfEmailVerified:k=o,excludeStepIfProfileComplete:R=o,submitWebsiteContent:P=o}={}){return{themes:{stepName:"themes",dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"],optionalDependencies:["useThemeHeadstart"]},"portfolio-themes":{stepName:"portfolio-themes",props:{designType:"grid"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"themes-site-selected":{stepName:"themes-site-selected",dependencies:["siteSlug","themeSlugWithRepo"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"],apiRequestFunction:g,props:{get headerText(){return p.ZP.translate("Choose a theme for your new site.")}}},"domains-launch":{stepName:"domains-launch",apiRequestFunction:D,fulfilledStepCallback:C,providesDependencies:["domainItem","shouldHideFreePlan"],optionalDependencies:["shouldHideFreePlan"],props:{isDomainOnly:!1,showExampleSuggestions:!1,includeWordPressDotCom:!1,showSkipButton:!0},dependencies:["siteSlug"]},"plans-site-selected":{stepName:"plans-site-selected",apiRequestFunction:e,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"],props:{hideFreePlan:!0,hideEnterprisePlan:!0}},"plans-site-selected-legacy":{stepName:"plans-site-selected-legacy",apiRequestFunction:e,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"]},site:{stepName:"site",apiRequestFunction:r,providesDependencies:["siteSlug"]},user:{stepName:"user",apiRequestFunction:d,providesToken:!0,providesDependencies:["bearer_token","username","marketing_price_group","redirect"],optionalDependencies:["redirect"],props:{isSocialSignupEnabled:n.ZP.isEnabled("signup/social")}},"user-hosting":{stepName:"user-hosting",apiRequestFunction:d,providesToken:!0,providesDependencies:["bearer_token","username","marketing_price_group","redirect"],optionalDependencies:["redirect"],props:{isSocialSignupEnabled:n.ZP.isEnabled("signup/social"),isPasswordless:!0,showIsDevAccountCheckbox:n.ZP.isEnabled("hosting-onboarding-i2")}},"user-new":{stepName:"user-new",apiRequestFunction:d,fulfilledStepCallback:v,providesToken:!0,dependencies:["cartItem","domainItem"],providesDependencies:["bearer_token","username","marketing_price_group","allowUnauthenticated"],optionalDependencies:["bearer_token","username","marketing_price_group","allowUnauthenticated"],props:{isSocialSignupEnabled:n.ZP.isEnabled("signup/social")}},"site-options":{stepName:"site-options",dependencies:["siteSlug","siteTitle","tagline"],providesDependencies:["siteTitle","tagline"],apiRequestFunction:S,delayApiRequestUntilComplete:!0},"store-options":{stepName:"store-options",dependencies:["siteSlug","siteTitle","tagline"],providesDependencies:["siteTitle","tagline"],apiRequestFunction:S},"store-features":{stepName:"store-features",dependencies:["siteSlug"],apiRequestFunction:h,providesDependencies:["storeType"],optionalDependencies:["storeType"]},"starting-point":{stepName:"starting-point",providesDependencies:["startingPoint"],optionalDependencies:["startingPoint"]},test:{stepName:"test"},plans:{stepName:"plans",apiRequestFunction:e,dependencies:["siteSlug"],optionalDependencies:["emailItem","themeSlugWithRepo"],providesDependencies:["cartItem","themeSlugWithRepo"],fulfilledStepCallback:b},"plans-theme-preselected":{stepName:"plans-theme-preselected",apiRequestFunction:t,dependencies:["siteSlug","theme"],optionalDependencies:["emailItem","themeSlugWithRepo"],providesDependencies:["cartItem","themeSlugWithRepo"],fulfilledStepCallback:b},"plans-hosting":{stepName:"plans",apiRequestFunction:e,dependencies:["siteSlug"],optionalDependencies:["emailItem","themeSlugWithRepo"],providesDependencies:["cartItem","themeSlugWithRepo"],fulfilledStepCallback:b,props:{hideFreePlan:!0,hidePremiumPlan:!0,hidePersonalPlan:!0,hideEnterprisePlan:!0,shouldHideNavButtons:!0}},"plans-pm":{stepName:"plans-pm",apiRequestFunction:e,dependencies:["siteSlug"],optionalDependencies:["emailItem","themeSlugWithRepo"],providesDependencies:["cartItem","themeSlugWithRepo"],fulfilledStepCallback:b},"plans-new":{stepName:"plans",providesDependencies:["cartItem"],fulfilledStepCallback:b},"plans-ecommerce":{stepName:"plans-ecommerce",apiRequestFunction:e,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"],fulfilledStepCallback:b,props:{hideFreePlan:!0,planTypes:[i.Qj,i.h7]}},"plans-import":{stepName:"plans-import",apiRequestFunction:e,dependencies:["siteSlug"],providesDependencies:["cartItem"],fulfilledStepCallback:b,props:{planTypes:[i.UH,i.mV,i.Kb,i.Qj]}},"plans-personal":{stepName:"plans-personal",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.sy}},"plans-premium":{stepName:"plans-premium",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.xf}},"plans-business":{stepName:"plans-business",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.p7}},"plans-pro":{stepName:"plans-pro",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a._s}},"plans-starter":{stepName:"plans-starter",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.Id}},"plans-ecommerce-fulfilled":{stepName:"plans-ecommerce-fulfilled",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"],defaultDependencies:{cartItem:a.JA,themeSlugWithRepo:"pub/twentytwentytwo"}},"plans-launch":{stepName:"plans-launch",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],props:{isLaunchPage:!0}},"plans-store-nux":{stepName:"plans-store-nux",apiRequestFunction:e,dependencies:["siteSlug","domainItem"],providesDependencies:["cartItem"]},"mailbox-plan":{stepName:"mailbox-plan",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug","emailItem"],providesDependencies:["cartItem"],props:{useEmailOnboardingSubheader:!0}},domains:{stepName:"domains",apiRequestFunction:u,providesDependencies:["siteId","siteSlug","domainItem","themeItem","shouldHideFreePlan","isManageSiteFlow"],optionalDependencies:["shouldHideFreePlan","isManageSiteFlow"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},emails:{stepName:"emails",dependencies:["domainItem","siteSlug"],providesDependencies:["domainItem","emailItem"],props:{isDomainOnly:!1}},mailbox:{stepName:"mailbox",dependencies:["domainItem","siteSlug"],providesDependencies:["domainItem","emailItem"],props:{backUrl:"mailbox-domain/",hideSkip:!0,isDomainOnly:!1}},"domain-only":{stepName:"domain-only",providesDependencies:["siteId","siteSlug","siteUrl","domainItem"],props:{isDomainOnly:!0,forceHideFreeDomainExplainerAndStrikeoutUi:!0}},"domains-store":{stepName:"domains",apiRequestFunction:u,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1,forceDesignType:"store"},delayApiRequestUntilComplete:!0},"domains-theme-preselected":{stepName:"domains-theme-preselected",apiRequestFunction:u,providesDependencies:["siteId","siteSlug","domainItem","themeItem","useThemeHeadstart","shouldHideFreePlan"],optionalDependencies:["shouldHideFreePlan","useThemeHeadstart"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},"mailbox-domain":{stepName:"mailbox-domain",apiRequestFunction:u,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{forceHideFreeDomainExplainerAndStrikeoutUi:!0,get headerText(){return p.ZP.translate("Choose a domain for your Professional Email")},includeWordPressDotCom:!1,isDomainOnly:!1},delayApiRequestUntilComplete:!0},"oauth2-user":{stepName:"oauth2-user",apiRequestFunction:d,props:{oauth2Signup:!0},providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect","marketing_price_group"]},"oauth2-name":{stepName:"oauth2-name",apiRequestFunction:d,providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect","marketing_price_group"],props:{isSocialSignupEnabled:n.ZP.isEnabled("signup/social"),oauth2Signup:!0,displayNameInput:!0,displayUsernameInput:!1}},"site-or-domain":{stepName:"site-or-domain",props:{get headerText(){return p.ZP.translate("Choose how to use your domain")},get subHeaderText(){return p.ZP.translate("Donâ€™t worry, you can easily add a site later")}},providesDependencies:["designType","siteId","siteSlug","siteUrl","domainItem","themeSlugWithRepo"]},"site-picker":{stepName:"site-picker",apiRequestFunction:c,props:{get headerText(){return p.ZP.translate("Choose your site")}},providesDependencies:["siteId","siteSlug","domainItem","themeSlugWithRepo"],dependencies:["cartItem","designType","domainItem","siteUrl","themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"creds-complete":{stepName:"creds-complete",providesDependencies:[]},"creds-confirm":{stepName:"creds-confirm",providesDependencies:["rewindconfig"]},"creds-permission":{stepName:"creds-permission",providesDependencies:["rewindconfig"]},"rewind-migrate":{stepName:"rewind-migrate",providesDependencies:["rewindconfig"]},"rewind-were-backing":{stepName:"rewind-were-backing",providesDependencies:[]},"rewind-form-creds":{stepName:"rewind-form-creds",providesDependencies:["rewindconfig"]},"clone-start":{stepName:"clone-start",providesDependencies:["originSiteSlug","originSiteName","originBlogId"]},"clone-destination":{stepName:"clone-destination",providesDependencies:["destinationSiteName","destinationSiteUrl"]},"clone-credentials":{stepName:"clone-credentials",providesDependencies:["roleName"]},"clone-point":{stepName:"clone-point",providesDependencies:["clonePoint"]},"clone-jetpack":{stepName:"clone-jetpack",providesDependencies:["cloneJetpack"]},"clone-ready":{stepName:"clone-ready",providesDependencies:[]},"clone-cloning":{stepName:"clone-cloning",providesDependencies:[]},"from-url":{stepName:"from-url",providesDependencies:["importSiteEngine","importSiteFavicon","importSiteUrl","siteTitle","suggestedDomain","themeSlugWithRepo"]},"reader-landing":{stepName:"reader-landing",providesDependencies:[]},launch:{stepName:"launch",apiRequestFunction:y,dependencies:["siteSlug"],props:{nonInteractive:!0}},"p2-details":{stepName:"p2-details"},"p2-site":{stepName:"p2-site",apiRequestFunction:l,providesDependencies:["siteSlug"]},"p2-get-started":{stepName:"p2-get-started"},"p2-confirm-email":{stepName:"p2-confirm-email",fulfilledStepCallback:k},"p2-complete-profile":{stepName:"p2-complete-profile",fulfilledStepCallback:R},"p2-join-workspace":{stepName:"p2-join-workspace"},"plans-personal-monthly":{stepName:"plans-personal-monthly",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.wm}},"plans-premium-monthly":{stepName:"plans-premium-monthly",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.OE}},"plans-business-monthly":{stepName:"plans-business-monthly",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.Wg}},"plans-ecommerce-monthly":{stepName:"plans-ecommerce-monthly",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"],defaultDependencies:{cartItem:a.lv,themeSlugWithRepo:"pub/twentytwentytwo"}},"plans-personal-2y":{stepName:"plans-personal-2y",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.Qm}},"plans-premium-2y":{stepName:"plans-premium-2y",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.G6}},"plans-business-2y":{stepName:"plans-business-2y",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.j2}},"plans-ecommerce-2y":{stepName:"plans-ecommerce-2y",apiRequestFunction:e,fulfilledStepCallback:b,dependencies:["siteSlug"],providesDependencies:["cartItem","themeSlugWithRepo"],defaultDependencies:{cartItem:a.f3,themeSlugWithRepo:"pub/twentytwentytwo"}},intent:{stepName:"intent",dependencies:["siteSlug"],providesDependencies:["intent"],optionalDependencies:["intent"],apiRequestFunction:f,delayApiRequestUntilComplete:!0},"design-setup-site":{stepName:"design-setup-site",apiRequestFunction:m,delayApiRequestUntilComplete:!0,dependencies:["siteSlug"],providesDependencies:["selectedDesign","selectedSiteCategory"],optionalDependencies:["selectedDesign","selectedSiteCategory"],props:{showDesignPickerCategories:!0,showDesignPickerCategoriesAllFilter:!0}},"new-or-existing-site":{stepName:"new-or-existing-site",fulfilledStepCallback:w,providesDependencies:["newOrExistingSiteChoice","forceAutoGeneratedBlogName"]},"add-ons":{stepName:"add-ons",props:{headerText:p.ZP.translate("Add-ons")},apiRequestFunction:s,fulfilledStepCallback:I,dependencies:["siteSlug"],providesDependencies:["cartItem"]},"difm-site-picker":{stepName:"difm-site-picker",props:{headerText:p.ZP.translate("Choose your site?")},providesDependencies:["siteId","siteSlug","newOrExistingSiteChoice","forceAutoGeneratedBlogName"],optionalDependencies:["siteId","siteSlug","newOrExistingSiteChoice","forceAutoGeneratedBlogName"],fulfilledStepCallback:w},"difm-design-setup-site":{stepName:"difm-design-setup-site",apiRequestFunction:N,delayApiRequestUntilComplete:!0,providesDependencies:["selectedDesign","selectedSiteCategory","isLetUsChooseSelected","cartItem","siteSlug"],optionalDependencies:["selectedDesign","isLetUsChooseSelected","cartItem","siteSlug"],props:{hideSkip:!0,hideExternalPreview:!0,useDIFMThemes:!0,showDesignPickerCategories:!0,showDesignPickerCategoriesAllFilter:!0,showLetUsChoose:!0,hideFullScreenPreview:!0,hideDesignTitle:!0,hideDescription:!0,hideBadge:!0}},"difm-options":{stepName:"site-options",providesDependencies:["siteTitle","tagline","searchTerms","newOrExistingSiteChoice"],optionalDependencies:["newOrExistingSiteChoice"],defaultDependencies:{newOrExistingSiteChoice:"existing-site"},props:{hideSkip:!0}},"difm-store-options":{stepName:"site-options",providesDependencies:["siteTitle","tagline","searchTerms","newOrExistingSiteChoice"],optionalDependencies:["newOrExistingSiteChoice"],defaultDependencies:{newOrExistingSiteChoice:"existing-site"},props:{hideSkip:!0}},"difm-page-picker":{stepName:"difm-page-picker",providesDependencies:["selectedPageTitles"],props:{hideSkip:!0}},"social-profiles":{stepName:"social-profiles",providesDependencies:["twitterUrl","facebookUrl","linkedinUrl","instagramUrl"]},"website-content":{stepName:"website-content",dependencies:["siteSlug"],apiRequestFunction:P},courses:{stepName:"courses"},"store-address":{stepName:"store-address",dependencies:["siteSlug","back_to"],optionalDependencies:["back_to"]},"business-info":{stepName:"business-info",dependencies:["siteSlug"]},confirm:{stepName:"confirm",dependencies:["siteSlug"],providesDependencies:["siteConfirmed"]},transfer:{stepName:"transfer",dependencies:["siteSlug","siteConfirmed"]}}}const r=d()},"./signup/difm/constants.tsx":(e,t,s)=>{s.d(t,{AN:()=>u,FO:()=>m,Q8:()=>f,Vy:()=>r,XH:()=>l,Xd:()=>p,_:()=>i,_r:()=>c,a:()=>g,hD:()=>S,m3:()=>d,rU:()=>a,s6:()=>n,x0:()=>o,zQ:()=>h});const n="HOME_PAGE",i="BLOG_PAGE",a="CONTACT_PAGE",p="ABOUT_PAGE",o="PHOTO_GALLERY_PAGE",d="SERVICE_SHOWCASE_PAGE",r="VIDEO_GALLERY_PAGE",l="PORTFOLIO_PAGE",c="FAQ_PAGE",u="SITEMAP_PAGE",m="SERVICES_PAGE",g="TESTIMONIALS_PAGE",S="PRICING_PAGE",h="TEAM_PAGE",f="SHOP_PAGE"},"./state/signup/init.js":(e,t,s)=>{var n=s("./state/redux-store.ts"),i=s("../packages/state-utils/src/index.ts"),a=s("./state/utils/reducer-utils.ts"),p=s("./state/action-types.ts"),o=s("./state/utils/schema-utils.js");const d={};const r=(0,o.G)({type:"object",properties:{cartItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{product_slug:{type:"string"},free_trial:{type:"boolean"}}}]},designType:{type:"string"},domainItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{is_domain_registration:{type:"boolean"},product_slug:{type:"string"},meta:{type:"string"}}}]},selectedDesign:{fonts:{headings:{type:"string"},base:{type:"string"}},slug:{type:"string"},template:{type:"string"},theme:{type:"string"}},theme:{type:"string"}}},(function(e=d,t){switch(t.type){case p.XXO:return{...e,...t.dependencies};case p.aR7:{const{siteId:t,siteSlug:s,...n}=e;return n}case p._E3:case p.cSD:{const{providedDependencies:s}=t.step;return s?{...e,...s}:e}case p.CHW:return d;default:return e}})),l=[],c=(0,o.G)({type:"string"},((e="",{flowName:t,type:s})=>s===p.m5B?t:e)),u=(0,o.G)({type:"string"},((e="",{flowName:t,type:s})=>s===p.sbx?t:e)),m=(0,o.G)({type:"array",items:{type:"string"}},((e=l,{type:t,steps:s})=>{switch(t){case p.cxI:return Array.from(new Set([...e,...s]));case p.dPJ:{const t=new Set(s);return e.filter((e=>!t.has(e)))}case p.h$p:return l;default:return e}})),g=(0,a.U)({currentFlowName:c,previousFlowName:u,excludedSteps:m}),S=(0,o.G)({type:["string","null"]},((e="",t)=>t.type===p.$Bw?t.data:e)),h=(0,a.U)({suggestedUsername:S});var f=s("../node_modules/debug/src/browser.js"),D=s.n(f),y=s("../node_modules/lodash-es/get.js"),b=s("../node_modules/lodash-es/keyBy.js"),I=s("../node_modules/lodash-es/omit.js"),C=s("./signup/config/steps-pure.js");const v=D()("calypso:state:signup:progress:reducer"),w=(e,t)=>(v(`Adding step ${t.stepName}`),{...e,[t.stepName]:t}),N=(e,t)=>{const{stepName:s,status:n}=t,i=(0,y.Z)(e,s);if(!i)return e;if(v(`Updating step ${s}`),"pending"===n||"completed"===n){const{wasSkipped:n,...a}=i;return{...e,[s]:{...a,...t}}}return{...e,[s]:{...i,...t}}},k=(0,o.G)({type:"object",patternProperties:{"^[w-]+$":{type:"object",properties:{formData:{type:"object",properties:{url:{type:"string"}}},lastUpdated:{type:"number"},status:{type:"string",enum:["completed","processing","pending","in-progress","invalid"]},stepName:{type:"string"}}}}},((e={},t)=>{switch(t.type){case p.$yY:return w(e,t.step);case p.CHW:return((e,{steps:t={}})=>(0,b.Z)(t,"stepName"))(0,t);case p.cSD:return((e,{step:t})=>N(e,{...t,status:"completed"}))(e,t);case p.dOO:return((e,{step:t,errors:s})=>{const n={...t,errors:s,status:"invalid"};return e.hasOwnProperty(t.stepName)?N(e,n):w(e,n)})(e,t);case p.JsI:return((e,{step:t})=>N(e,{...t,status:"processing"}))(e,t);case p.kzi:return((e,{step:t})=>{const s=(0,y.Z)(e,[t.stepName,"status"]);return e.hasOwnProperty(t.stepName)?N(e,{...t,status:"pending"===s&&"setup-site"===t.lastKnownFlow?"in-progress":s}):w(e,{...t,status:"in-progress"})})(e,t);case p._E3:return((e,{step:t})=>{const s=(0,y.Z)(C.Z,[t.stepName,"apiRequestFunction"])?"pending":"completed";return e.hasOwnProperty(t.stepName)?N(e,{...t,status:s}):w(e,{...t,status:s})})(e,t);case p.eUo:return((e,{step:t})=>(0,I.Z)(e,t.stepName))(e,t)}return e})),R=(0,o.G)({type:["string","null"]},((e="",t)=>{switch(t.type){case p.EYW:return t.designType;case p.CHW:return""}return e}));var P=s("./state/signup/steps/website-content/actions.ts"),E=s("./state/signup/steps/website-content/constants.tsx");const U=(0,a.U)({designType:R,websiteContentCollection:(e=E.E3,t)=>{switch(t.type){case p.fXg:{const{pages:e,siteInformationSection:s,feedbackSection:n}=t.payload;return{...E.E3,websiteContent:{...E.E3.websiteContent,pages:e,siteInformationSection:s,feedbackSection:n}}}case p.srB:return{...e,currentIndex:t.payload};case p.uSW:case p.tqc:return{...e,mediaUploadStates:{...e.mediaUploadStates,[E.XB]:{...e.mediaUploadStates[E.XB],0:t.type===p.tqc?E.vk.UPLOAD_STARTED:E.vk.UPLOAD_FAILED}}};case p.cOk:{const{payload:s}=t,{url:n}=s;return{...e,websiteContent:{...e.websiteContent,siteInformationSection:{...e.websiteContent.siteInformationSection,siteLogoUrl:n}},mediaUploadStates:{...e.mediaUploadStates,[E.XB]:{...e.mediaUploadStates[E.XB],0:E.vk.UPLOAD_COMPLETED}},hasUnsavedChanges:!0}}case p.uXr:{const{payload:{feedback:s}}=t;return{...e,websiteContent:{...e.websiteContent,feedbackSection:{genericFeedback:s}},hasUnsavedChanges:!0}}case p.d1e:{const{payload:{searchTerms:s}}=t;return{...e,websiteContent:{...e.websiteContent,siteInformationSection:{...e.websiteContent.siteInformationSection,searchTerms:s}},hasUnsavedChanges:!0}}case p.X9:return{...e,websiteContent:{...e.websiteContent,siteInformationSection:{...e.websiteContent.siteInformationSection,siteLogoUrl:""}},mediaUploadStates:{...e.mediaUploadStates,[E.XB]:{...e.mediaUploadStates[E.XB],0:E.vk.UPLOAD_REMOVED}},hasUnsavedChanges:!0};case p.L79:{const{payload:s}=t;return{...e,mediaUploadStates:{...e.mediaUploadStates,[s.pageId]:{...e.mediaUploadStates[s.pageId],[s.mediaIndex]:E.vk.UPLOAD_STARTED}}}}case p.x0C:{const s=t.payload,{pageId:n}=s,i={...e.mediaUploadStates,[n]:{...e.mediaUploadStates[n],[s.mediaIndex]:E.vk.UPLOAD_COMPLETED}},a=e.websiteContent.pages.findIndex((e=>e.id===n)),p=e.websiteContent.pages[a],o=[...p.media],d=p.media[s.mediaIndex];return o.splice(s.mediaIndex,1,{...d,...s.media}),{...e,websiteContent:{...e.websiteContent,pages:[...e.websiteContent.pages.slice(0,a),{...p,media:o},...e.websiteContent.pages.slice(a+1)]},mediaUploadStates:i,hasUnsavedChanges:!0}}case p.HJ4:{const{payload:s}=t;return{...e,mediaUploadStates:{...e.mediaUploadStates,[s.pageId]:{...e.mediaUploadStates[s.pageId],[s.mediaIndex]:E.vk.UPLOAD_FAILED}}}}case p.ume:{const{payload:s}=t,{pageId:n}=s,i=e.websiteContent.pages.findIndex((e=>e.id===n)),a=e.websiteContent.pages[i],p=[...a.media],o=p[s.mediaIndex];return p.splice(s.mediaIndex,1,(0,P.R0)(o.mediaType)),{...e,websiteContent:{...e.websiteContent,pages:[...e.websiteContent.pages.slice(0,i),{...a,media:p},...e.websiteContent.pages.slice(i+1)]},mediaUploadStates:{...e.mediaUploadStates,[s.pageId]:{...e.mediaUploadStates[s.pageId],[s.mediaIndex]:E.vk.UPLOAD_REMOVED}},hasUnsavedChanges:!0}}case p.ge6:{const{payload:s}=t;return{...e,websiteContent:{...e.websiteContent,pages:e.websiteContent.pages.map((e=>s.pageId===e.id?{...e,[s.fieldName]:s.fieldValue}:e))},hasUnsavedChanges:!0}}case p.dkZ:return{...e,hasUnsavedChanges:!1};case p.CHW:return E.E3}return e}}),F=(0,i.xi)("signup",(0,a.U)({dependencyStore:r,optionalDependencies:h,progress:k,steps:U,flow:g}));(0,n.x)(["signup"],F)},"./state/signup/steps/website-content/actions.ts":(e,t,s)=>{s.d(t,{BD:()=>u,Bu:()=>r,Fs:()=>h,GM:()=>m,Gj:()=>b,Kr:()=>o,MR:()=>g,NB:()=>l,QP:()=>a,R0:()=>f,TN:()=>d,ZU:()=>y,pv:()=>p,rP:()=>c,uB:()=>S});var n=s("./signup/difm/constants.tsx"),i=s("./state/action-types.ts");s("./state/signup/init.js");function a(e){return{type:i.x0C,payload:e}}function p(e){return{type:i.ume,payload:e}}function o(e){return{type:i.L79,payload:e}}function d(e){return{type:i.HJ4,payload:e}}function r(){return{type:i.tqc}}function l(e){return{type:i.cOk,payload:{url:e}}}function c(){return{type:i.uSW}}function u(){return{type:i.X9}}function m(e){return{type:i.uXr,payload:{feedback:e}}}function g(e){return{type:i.d1e,payload:{searchTerms:e}}}function S(e){return{type:i.ge6,payload:e}}function h(e){return{type:i.srB,payload:e}}function f(e){return{caption:"",url:"",mediaType:e,thumbnailUrl:""}}function D(e,t){const s=function(e){switch(e){case n.Vy:return Array(4).fill(f("VIDEO"));case n.XH:case n.x0:return Array(8).fill(f("IMAGE"));case n.s6:case n._:case n.rU:case n.Xd:case n._r:case n.FO:case n.a:case n.hD:case n.zQ:default:return Array(4).fill(f("IMAGE"))}}(e);return t?.length?t.length>=s.length?t:[...t,...s.slice(0,s.length-t.length)]:s}function y(e,t){const{selectedPageTitles:s,pages:n,siteLogoUrl:a,searchTerms:p,genericFeedback:o}=e,d=s.map((e=>{const s=n.find((t=>t.id===e));return{id:e,title:t[e],content:s?.content??"",displayEmail:s?.displayEmail||void 0,displayPhone:s?.displayPhone||void 0,displayAddress:s?.displayAddress||void 0,useFillerContent:s?.useFillerContent||!1,media:D(e,s?.media)}}));return{type:i.fXg,payload:{pages:d,siteInformationSection:{siteLogoUrl:a,searchTerms:p},feedbackSection:{genericFeedback:o}}}}function b(){return{type:i.dkZ}}},"./state/signup/steps/website-content/constants.tsx":(e,t,s)=>{s.d(t,{E3:()=>a,XB:()=>n,vk:()=>i});const n="site_information_section",i={UPLOAD_STARTED:"UPLOAD_STARTED",UPLOAD_COMPLETED:"UPLOAD_COMPLETED",UPLOAD_FAILED:"UPLOAD_FAILED",UPLOAD_REMOVED:"UPLOAD_REMOVED"},a={currentIndex:0,websiteContent:{pages:[],siteInformationSection:{siteLogoUrl:"",searchTerms:""},feedbackSection:{genericFeedback:""}},mediaUploadStates:{},hasUnsavedChanges:!1}}}]);