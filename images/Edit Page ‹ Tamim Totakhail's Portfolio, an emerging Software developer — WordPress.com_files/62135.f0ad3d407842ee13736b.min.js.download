"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[62135,51805],{"../node_modules/@tanstack/query-core/build/lib/queryObserver.mjs":(e,t,s)=>{s.d(t,{z:()=>a});var r=s("../node_modules/@tanstack/query-core/build/lib/utils.mjs"),i=s("../node_modules/@tanstack/query-core/build/lib/notifyManager.mjs"),n=s("../node_modules/@tanstack/query-core/build/lib/focusManager.mjs"),u=s("../node_modules/@tanstack/query-core/build/lib/subscribable.mjs"),o=s("../node_modules/@tanstack/query-core/build/lib/retryer.mjs");class a extends u.l{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.length&&(this.currentQuery.addObserver(this),l(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return c(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,r.VS)(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const n=this.hasListeners();n&&h(this.currentQuery,i,this.options,s)&&this.executeFetch(),this.updateResult(t),!n||this.currentQuery===i&&this.options.enabled===s.enabled&&this.options.staleTime===s.staleTime||this.updateStaleTimeout();const u=this.computeRefetchInterval();!n||this.currentQuery===i&&this.options.enabled===s.enabled&&u===this.currentRefetchInterval||this.updateRefetchInterval(u)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach((s=>{Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),e[s])})})),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.isFetchingOptimistic=!0,s.fetch().then((()=>this.createResult(s,t)))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then((()=>(this.updateResult(),this.currentResult)))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(r.ZT)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),r.sk||this.currentResult.isStale||!(0,r.PN)(this.options.staleTime))return;const e=(0,r.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((()=>{this.currentResult.isStale||this.updateResult()}),e)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!r.sk&&!1!==this.options.enabled&&(0,r.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((()=>{(this.options.refetchIntervalInBackground||n.j.isFocused())&&this.executeFetch()}),this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const s=this.currentQuery,i=this.options,n=this.currentResult,u=this.currentResultState,a=this.currentResultOptions,c=e!==s,p=c?e.state:this.currentQueryInitialState,y=c?this.currentResult:this.previousQueryResult,{state:f}=e;let b,{dataUpdatedAt:m,error:R,errorUpdatedAt:v,fetchStatus:S,status:g}=f,Q=!1,k=!1;if(t._optimisticResults){const r=this.hasListeners(),n=!r&&l(e,t),u=r&&h(e,s,t,i);(n||u)&&(S=(0,o.Kw)(e.options.networkMode)?"fetching":"paused",m||(g="loading")),"isRestoring"===t._optimisticResults&&(S="idle")}if(t.keepPreviousData&&!f.dataUpdatedAt&&null!=y&&y.isSuccess&&"error"!==g)b=y.data,m=y.dataUpdatedAt,g=y.status,Q=!0;else if(t.select&&void 0!==f.data)if(n&&f.data===(null==u?void 0:u.data)&&t.select===this.selectFn)b=this.selectResult;else try{this.selectFn=t.select,b=t.select(f.data),b=(0,r.oE)(null==n?void 0:n.data,b,t),this.selectResult=b,this.selectError=null}catch(e){0,this.selectError=e}else b=f.data;if(void 0!==t.placeholderData&&void 0===b&&"loading"===g){let e;if(null!=n&&n.isPlaceholderData&&t.placeholderData===(null==a?void 0:a.placeholderData))e=n.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(e){0,this.selectError=e}void 0!==e&&(g="success",b=(0,r.oE)(null==n?void 0:n.data,e,t),k=!0)}this.selectError&&(R=this.selectError,b=this.selectResult,v=Date.now(),g="error");const E="fetching"===S,I="loading"===g,C="error"===g;return{status:g,fetchStatus:S,isLoading:I,isSuccess:"success"===g,isError:C,isInitialLoading:I&&E,data:b,dataUpdatedAt:m,error:R,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>p.dataUpdateCount||f.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!I,isLoadingError:C&&0===f.dataUpdatedAt,isPaused:"paused"===S,isPlaceholderData:k,isPreviousData:Q,isRefetchError:C&&0!==f.dataUpdatedAt,isStale:d(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,r.VS)(s,t))return;this.currentResult=s;const i={cache:!0};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options;if("all"===e||!e&&!this.trackedProps.size)return!0;const s=new Set(null!=e?e:this.trackedProps);return this.options.useErrorBoundary&&s.add("error"),Object.keys(this.currentResult).some((e=>{const r=e;return this.currentResult[r]!==t[r]&&s.has(r)}))})()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,o.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){i.V.batch((()=>{var t,s,r,i;if(e.onSuccess)null==(t=(s=this.options).onSuccess)||t.call(s,this.currentResult.data),null==(r=(i=this.options).onSettled)||r.call(i,this.currentResult.data,null);else if(e.onError){var n,u,o,a;null==(n=(u=this.options).onError)||n.call(u,this.currentResult.error),null==(o=(a=this.options).onSettled)||o.call(a,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach((e=>{e(this.currentResult)})),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})}))}}function l(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&c(e,t,t.refetchOnMount)}function c(e,t,s){if(!1!==t.enabled){const r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&d(e,t)}return!1}function h(e,t,s,r){return!1!==s.enabled&&(e!==t||!1===r.enabled)&&(!s.suspense||"error"!==e.state.status)&&d(e,s)}function d(e,t){return e.isStaleByTime(t.staleTime)}},"../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs":(e,t,s)=>{s.d(t,{_:()=>u});var r=s("../node_modules/react/index.js");function i(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const n=r.createContext(i()),u=()=>r.useContext(n)},"../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs":(e,t,s)=>{s.d(t,{JN:()=>u,KJ:()=>o,pf:()=>n});var r=s("../node_modules/react/index.js"),i=s("../node_modules/@tanstack/react-query/build/lib/utils.mjs");const n=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},u=e=>{r.useEffect((()=>{e.clearReset()}),[e])},o=({result:e,errorResetBoundary:t,useErrorBoundary:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&(0,i.L)(s,[e.error,r])},"../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs":(e,t,s)=>{s.d(t,{S:()=>n});var r=s("../node_modules/react/index.js");const i=r.createContext(!1),n=()=>r.useContext(i);i.Provider},"../node_modules/@tanstack/react-query/build/lib/suspense.mjs":(e,t,s)=>{s.d(t,{Fb:()=>r,SB:()=>n,Z$:()=>i,j8:()=>u});const r=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},i=(e,t)=>e.isLoading&&e.isFetching&&!t,n=(e,t,s)=>(null==e?void 0:e.suspense)&&i(t,s),u=(e,t,s)=>t.fetchOptimistic(e).then((({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)})).catch((t=>{s.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))},"../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs":(e,t,s)=>{s.d(t,{r:()=>h});var r=s("../node_modules/react/index.js"),i=s("../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs"),n=s("../node_modules/@tanstack/query-core/build/lib/notifyManager.mjs"),u=s("../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs"),o=s("../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),a=s("../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs"),l=s("../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs"),c=s("../node_modules/@tanstack/react-query/build/lib/suspense.mjs");function h(e,t){const s=(0,o.NL)({context:e.context}),h=(0,a.S)(),d=(0,u._)(),p=s.defaultQueryOptions(e);p._optimisticResults=h?"isRestoring":"optimistic",p.onError&&(p.onError=n.V.batchCalls(p.onError)),p.onSuccess&&(p.onSuccess=n.V.batchCalls(p.onSuccess)),p.onSettled&&(p.onSettled=n.V.batchCalls(p.onSettled)),(0,c.Fb)(p),(0,l.pf)(p,d),(0,l.JN)(d);const[y]=r.useState((()=>new t(s,p))),f=y.getOptimisticResult(p);if((0,i.$)(r.useCallback((e=>h?()=>{}:y.subscribe(n.V.batchCalls(e))),[y,h]),(()=>y.getCurrentResult()),(()=>y.getCurrentResult())),r.useEffect((()=>{y.setOptions(p,{listeners:!1})}),[p,y]),(0,c.SB)(p,f,h))throw(0,c.j8)(p,y,d);if((0,l.KJ)({result:f,errorResetBoundary:d,useErrorBoundary:p.useErrorBoundary,query:y.getCurrentQuery()}))throw f.error;return p.notifyOnChangeProps?f:y.trackResult(f)}},"../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs":(e,t,s)=>{s.d(t,{$:()=>r});const r=s("../node_modules/use-sync-external-store/shim/index.js").useSyncExternalStore},"../node_modules/@tanstack/react-query/build/lib/utils.mjs":(e,t,s)=>{function r(e,t){return"function"==typeof e?e(...t):!!e}s.d(t,{L:()=>r})}}]);