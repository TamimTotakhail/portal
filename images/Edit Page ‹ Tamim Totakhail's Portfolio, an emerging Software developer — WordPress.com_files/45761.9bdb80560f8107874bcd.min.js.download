"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[45761],{"./blocks/all-sites/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>f});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../packages/calypso-config/src/index.ts"),o=s("../node_modules/classnames/index.js"),a=s.n(o),c=s("../packages/i18n-calypso/src/localize.js"),l=s("../node_modules/react/index.js"),d=s("../node_modules/react-redux/es/index.js"),u=s("./components/count/index.jsx"),p=s("./state/current-user/selectors.js"),h=s("./state/selectors/get-sites.js"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g=(0,n.Z)("div",{target:"eq1p8wa0"})({name:"1by10yi",styles:"align-items:center;align-self:center;border-radius:0;display:inline-flex;margin-inline-end:8px;padding:0;height:32px;width:32px;justify-content:center;color:var(--color-sidebar-text)"});class y extends l.Component{constructor(...e){super(...e),(0,i.Z)(this,"onSelect",(e=>{this.props.onSelect(e)}))}renderIcon(){return this.props.icon?(0,m.tZ)(g,{children:this.props.icon}):null}renderSiteCount(){return(0,m.tZ)(u.Z,{count:this.props.count})}render(){const{title:e,href:t,domain:s,translate:i,isHighlighted:n,isSelected:r,showCount:o,showIcon:c}=this.props,l=a()({"all-sites":!0,"is-selected":r,"is-highlighted":n});return(0,m.tZ)("div",{className:l,children:(0,m.BX)("a",{className:"all-sites__content site__content",href:t,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onClick:this.onSelect,children:[o&&this.renderSiteCount(),c&&this.renderIcon(),(0,m.BX)("div",{className:"all-sites__info site__info",children:[(0,m.tZ)("span",{className:"all-sites__title site__title",children:e||i("All My Sites")}),s&&(0,m.tZ)("span",{className:"all-sites__domain site__domain",children:s})]})]})})}}(0,i.Z)(y,"defaultProps",{onSelect:()=>{},href:null,isSelected:!1,isHighlighted:!1,showCount:!0,showIcon:!1,domain:""});const _=({visible:e=!0})=>e,f=(0,d.$j)(((e,t)=>{const s=(0,h.Z)(e)?.filter(_),i=t.count??(0,p.f0)(e);return{count:r.ZP.isEnabled("realtime-site-count")?s.length:i}}))((0,c.Z)(y))},"./blocks/site/placeholder.jsx":(e,t,s)=>{s.d(t,{Z:()=>l});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/debug/src/browser.js"),r=s.n(n),o=s("../node_modules/react/index.js"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=r()("calypso:my-sites:site");class l extends o.Component{componentDidMount(){c("The Site component is mounted.")}render(){return(0,a.tZ)("div",{className:"site is-loading",children:(0,a.BX)("div",{className:"site__content",children:[(0,a.tZ)("div",{className:"site-icon"}),(0,a.BX)("div",{className:"site__info",children:[(0,a.tZ)("div",{className:"site__title",children:"This is an example"}),(0,a.tZ)("div",{className:"site__domain",children:"example.wordpress.com"})]})]})})}}(0,i.Z)(l,"displayName","SitePlaceholder")},"./blocks/visit-site/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>a});var i=s("../packages/i18n-calypso/src/use-translate.js"),n=s("../node_modules/react/index.js"),r=s("./lib/wp/browser.js"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a({siteSlug:e}){const t=(0,i.Z)(),s=function(e){const[t,s]=(0,n.useState)(null);return(0,n.useEffect)((()=>{r.Z.site(e).get({apiVersion:"1.2"}).then(s)}),[e]),t}(e);if(!s)return null;const a=(0,o.tZ)("a",{href:s.URL,children:e.replace("::","/")});return(0,o.tZ)("div",{className:"visit-site",children:t("or visit {{siteLink/}}",{components:{siteLink:a},context:"Alternative link under login/site-selection header, leads to site frontend."})})}},"./components/close-on-escape/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>d});var i=s("../node_modules/react/index.js");const n=27;let r=[];function o(e){if(r.length&&e.keyCode===n&&(t=e.target,!["INPUT","TEXTAREA"].includes(t.nodeName))){r[r.length-1].onEscape()}var t}function a(e,t){r.push({component:e,onEscape:t}),r.length&&document.addEventListener("keydown",o,!0)}function c(e){r=r.filter((t=>t.component!==e)),r.length||document.removeEventListener("keydown",o,!0)}class l extends i.Component{componentDidMount(){a(this,this.props.onEscape)}componentWillUnmount(){c(this)}render(){return null}}l.defaultProps={onEscape:()=>{}};const d=l},"./components/count/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>l});var i=s("../node_modules/classnames/index.js"),n=s.n(i),r=s("../packages/i18n-calypso/src/localize.js"),o=s("./lib/format-number-compact/index.js"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=({count:e,compact:t,numberFormat:s,forwardRef:i,primary:r,...c})=>{const{translate:l,moment:d,...u}=c;return(0,a.tZ)("span",{ref:i,className:n()("count",{"is-primary":r}),...u,children:t&&(0,o.Z)(e)||s(e)})};c.defaultProps={primary:!1,compact:!1};const l=(0,r.Z)(c)},"./components/data/query-site-domains/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>d});var i=s("../node_modules/prop-types/index.js"),n=s.n(i),r=s("../node_modules/react/index.js"),o=s("../node_modules/react-redux/es/index.js"),a=s("./state/sites/domains/actions.js"),c=s("./state/sites/domains/selectors.js");const l=e=>(t,s)=>{e&&!(0,c.JZ)(s(),e)&&t((0,a.Pz)(e))};function d({siteId:e}){const t=(0,o.I0)();return(0,r.useEffect)((()=>{t(l(e))}),[t,e]),null}d.propTypes={siteId:n().number.isRequired}},"./components/data/query-site-purchases/index.jsx":(e,t,s)=>{s.d(t,{E:()=>p,Z:()=>h});var i=s("../node_modules/debug/src/browser.js"),n=s.n(i),r=s("../node_modules/prop-types/index.js"),o=s.n(r),a=s("../node_modules/react/index.js"),c=s("../node_modules/react-redux/es/index.js"),l=s("./state/purchases/actions.js"),d=s("./state/purchases/selectors/fetching.js");const u=n()("calypso:query-site-purchases"),p=e=>{const t=(0,c.v9)((e=>(0,d.GR)(e))),s=(0,c.I0)(),i=(0,a.useRef)();(0,a.useEffect)((()=>{e&&!t&&e!==i.current&&(u(`siteId "${e}" has changed from previous "${i.current}"; fetching site purchases`),i.current=e,s((0,l.Z_)(e)))}),[e,s,t])};function h({siteId:e}){return p(e),null}h.propTypes={siteId:o().number}},"./components/empty-component/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n=()=>(0,i.tZ)("div",{})},"./components/empty-content/no-sites-message/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>a});var i=s("../packages/i18n-calypso/src/localize.js"),n=s("./components/empty-content/index.jsx"),r=s("./lib/paths/index.js"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,i.Z)((({translate:e})=>(0,o.tZ)(n.Z,{className:"no-sites-message",title:e("You don't have any WordPress sites yet."),line:e("Would you like to start one?"),action:e("Create Site"),actionURL:(0,r.Nf)()+"?ref=calypso-nosites",illustration:"/calypso/images/illustrations/illustration-nosites.svg"})))},"./components/forms/form-text-input/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>c});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/classnames/index.js"),r=s.n(n),o=s("../node_modules/react/index.js"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends o.PureComponent{constructor(...e){super(...e),(0,i.Z)(this,"state",{value:this.props.value||""}),(0,i.Z)(this,"currentTextField",void 0),(0,i.Z)(this,"textFieldRef",(e=>{this.currentTextField=e;const{inputRef:t}=this.props;t&&("function"==typeof t?t(e):t.current=e)})),(0,i.Z)(this,"selectOnFocus",(e=>{this.props.selectOnFocus&&e.target.select()})),(0,i.Z)(this,"onChange",(e=>{this.setState({value:e.target.value}),this.props.onChange?.(e)}))}componentDidUpdate(e){this.updateValueIfNeeded(e.value)}updateValueIfNeeded(e){const{value:t}=this.props;e===t&&t===this.state.value||this.setState({value:t})}focus(){this.currentTextField&&this.currentTextField.focus()}render(){const{isError:e,isValid:t,selectOnFocus:s,inputRef:i,onChange:n,value:o,...c}=this.props,l=r()("form-text-input",this.props.className,{"is-error":this.props.isError,"is-valid":this.props.isValid});return(0,a.tZ)("input",{type:"text",...c,value:this.state.value,ref:this.textFieldRef,className:l,onClick:this.selectOnFocus,onChange:this.onChange})}}},"./components/localized-moment/index.js":(e,t,s)=>{s.d(t,{B:()=>c,q:()=>a});var i=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),n=s("../node_modules/react/index.js"),r=s("./components/localized-moment/context.js"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,i.o)((e=>function(t){return(0,o.tZ)(r.Z.Consumer,{children:s=>(0,o.tZ)(e,{...t,...s})})}),"WithLocalizedMoment"),c=()=>{const{moment:e}=(0,n.useContext)(r.Z);return e}},"./components/main/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("../node_modules/classnames/index.js"),n=s.n(i),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o({className:e="",id:t="",children:s,wideLayout:i=!1,fullWidthLayout:o=!1,isLoggedOut:a=!1,ariaLabel:c}){const l=n()(e,"main",{"is-wide-layout":i,"is-full-width-layout":o,"is-logged-out":a});return(0,r.tZ)("main",{className:l,id:t||void 0,role:"main","aria-label":c,children:s})}},"./components/search/index.jsx":(e,t,s)=>{s.d(t,{J:()=>b,ZP:()=>x});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../packages/components/src/spinner/index.tsx"),r=s("../packages/viewport/src/index.ts"),o=s("../node_modules/@wordpress/icons/build-module/icon/index.js"),a=s("../node_modules/@wordpress/icons/build-module/library/search.js"),c=s("../node_modules/@wordpress/icons/build-module/library/close-small.js"),l=s("../node_modules/classnames/index.js"),d=s.n(l),u=s("../packages/i18n-calypso/src/index.js"),p=s("../node_modules/lodash-es/debounce.js"),h=s("../node_modules/react/index.js"),m=s("../node_modules/uuid/dist/esm-browser/v4.js"),g=s("./components/forms/form-text-input/index.jsx"),y=(s("./components/translatable/proptype.js"),s("./lib/analytics/ga.js")),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const f=()=>{},b="on-enter";function S(e,t){switch(t.key){case" ":case"Enter":this[e](t)}}class Z extends h.Component{constructor(e){super(e),(0,i.Z)(this,"setOpenIconRef",(e=>this.openIcon=e)),(0,i.Z)(this,"setSearchInputRef",(e=>this.searchInput=e)),(0,i.Z)(this,"setOverlayRef",(e=>this.overlay=e)),(0,i.Z)(this,"scrollOverlay",(()=>{this.overlay&&window.requestAnimationFrame((()=>{this.overlay&&this.searchInput&&(this.overlay.scrollLeft=this.getScrollLeft(this.searchInput))}))})),(0,i.Z)(this,"getScrollLeft",(e=>{if(!e.createTextRange)return e.scrollLeft;const t=e.createTextRange(),s=window.getComputedStyle(e,void 0),i=parseFloat(s.paddingLeft),n=t.getBoundingClientRect();return e.getBoundingClientRect().left+e.clientLeft+i-n.left})),(0,i.Z)(this,"focus",(()=>{setTimeout((()=>this.searchInput&&this.searchInput.focus()),0)})),(0,i.Z)(this,"blur",(()=>this.searchInput.blur())),(0,i.Z)(this,"clear",(()=>this.setState({keyword:""}))),(0,i.Z)(this,"onBlur",(e=>{this.props.onBlur&&this.props.onBlur(e),this.setState({hasFocus:!1})})),(0,i.Z)(this,"onChange",(e=>{this.setState({keyword:e.target.value})})),(0,i.Z)(this,"openSearch",(e=>{e.preventDefault(),this.setState({keyword:"",isOpen:!0}),(0,y.Yh)(this.props.analyticsGroup,"Clicked Open Search")})),(0,i.Z)(this,"closeSearch",(e=>{e.preventDefault(),this.props.disabled||(this.setState({keyword:"",isOpen:this.props.isOpen||!1}),this.searchInput.value="",this.props.pinned?(this.searchInput.blur(),this.openIcon.focus()):this.searchInput.focus(),this.props.onSearchClose(e),(0,y.Yh)(this.props.analyticsGroup,"Clicked Close Search"))})),(0,i.Z)(this,"keyUp",(e=>{"Enter"===e.key&&(0,r.tq)()&&this.blur(),this.props.pinned&&("Escape"===e.key&&this.closeSearch(e),this.scrollOverlay())})),(0,i.Z)(this,"keyDown",(e=>{this.scrollOverlay(),"Escape"===e.key&&""===e.target.value&&this.closeSearch(e),this.isSearchOnEnterMode()&&"Enter"===e.key&&this.updateSearch(),this.props.onKeyDown(e)})),(0,i.Z)(this,"onFocus",(()=>{if(!this.searchInput)return;const e=this.searchInput.value;e&&(this.searchInput.value="",this.searchInput.value=e),this.setState({hasFocus:!0}),this.props.onSearchOpen()})),(0,i.Z)(this,"updateSearch",(()=>{this.state.keyword?this.onSearch(this.state.keyword):(this.props.delaySearch&&this.onSearch.cancel(),this.props.onSearch(this.state.keyword))})),(0,i.Z)(this,"isSearchOnEnterMode",(()=>this.props.searchMode===b)),(0,i.Z)(this,"isSearchOnWriteMode",(()=>!this.isSearchOnEnterMode())),this.instanceId=(0,m.Z)(),this.state={keyword:e.initialValue||"",isOpen:!!e.isOpen,hasFocus:e.autoFocus},this.closeListener=S.bind(this,"closeSearch"),this.openListener=S.bind(this,"openSearch")}UNSAFE_componentWillReceiveProps(e){e.onSearch===this.props.onSearch&&e.delaySearch===this.props.delaySearch||(this.onSearch=this.props.delaySearch?(0,p.Z)(this.props.onSearch,this.props.delayTimeout):this.props.onSearch),this.props.isOpen!==e.isOpen&&this.setState({isOpen:e.isOpen}),this.props.value===e.value||!e.value&&""!==e.value||e.value===this.state.keyword||this.setState({keyword:e.value})}componentDidUpdate(e,t){this.scrollOverlay(),(this.state.isOpen&&!t.isOpen||this.props.autoFocus&&!e.autoFocus)&&this.focus(),this.state.keyword!==t.keyword&&((this.isSearchOnWriteMode()||""===this.state.keyword||this.props.applySearch)&&this.updateSearch(),this.props.onSearchChange(this.state.keyword))}componentDidMount(){this.onSearch=this.props.delaySearch?(0,p.Z)(this.props.onSearch,this.props.delayTimeout):this.props.onSearch}render(){const e=this.state.keyword,t=this.props.placeholder||u.ZP.translate("Search…",{textOnly:!0}),s=this.props.inputLabel,i=this.props.pinned&&!this.state.isOpen,r=this.state.isOpen||!this.props.pinned||this.props.initialValue,c=this.props.disableAutocorrect&&{autoComplete:"off",autoCorrect:"off",spellCheck:"false"},l=d()(this.props.additionalClasses,this.props.dir,{"is-expanded-to-container":this.props.fitsContainer,"is-open":r,"is-searching":this.props.searching,"is-compact":this.props.compact,"has-focus":!this.props.hideFocus&&this.state.hasFocus,"has-open-icon":!this.props.hideOpenIcon,search:!0}),p=d()("search__input-fade",this.props.dir),h=d()("search__input",this.props.dir);return(0,_.BX)("div",{dir:this.props.dir||null,className:l,role:"search",children:[(0,_.tZ)(n.$,{}),(0,_.tZ)("div",{role:"button",className:"search__icon-navigation",ref:this.setOpenIconRef,onClick:i?this.openSearch:this.focus,tabIndex:i?"0":null,onKeyDown:i?this.openListener:null,"aria-controls":"search-component-"+this.instanceId,"aria-label":u.ZP.translate("Open Search",{context:"button label"}),children:!this.props.hideOpenIcon&&(0,_.tZ)(o.Z,{icon:a.Z,className:"search__open-icon"})}),(0,_.BX)("div",{className:p,children:[(0,_.tZ)(g.Z,{type:"search",id:"search-component-"+this.instanceId,autoFocus:this.props.autoFocus,"aria-describedby":this.props.describedBy,"aria-label":s||u.ZP.translate("Search"),"aria-hidden":!r,className:h,placeholder:t,role:"searchbox",value:e,inputRef:this.setSearchInputRef,onChange:this.onChange,onKeyUp:this.keyUp,onKeyDown:this.keyDown,onMouseUp:this.props.onClick,onFocus:this.onFocus,onBlur:this.onBlur,disabled:this.props.disabled,autoCapitalize:"none",dir:this.props.dir,maxLength:this.props.maxLength,minLength:this.props.minLength,...c}),this.props.overlayStyling&&this.renderStylingDiv()]}),this.closeButton(),this.props.children]})}renderStylingDiv(){return(0,_.tZ)("div",{className:"search__text-overlay",ref:this.setOverlayRef,children:this.props.overlayStyling(this.state.keyword)})}closeButton(){return this.props.hideClose||!this.state.keyword&&!this.state.isOpen?null:(0,_.tZ)("div",{role:"button",className:"search__icon-navigation",onClick:this.closeSearch,tabIndex:"0",onKeyDown:this.closeListener,"aria-controls":"search-component-"+this.instanceId,"aria-label":u.ZP.translate("Close Search",{context:"button label"}),children:(0,_.tZ)(o.Z,{icon:c.Z,className:"search__close-icon"})})}}(0,i.Z)(Z,"defaultProps",{pinned:!1,delaySearch:!1,delayTimeout:300,autoFocus:!1,disabled:!1,describedBy:null,onSearchChange:f,onSearchOpen:f,onSearchClose:f,onKeyDown:f,onClick:f,overlayStyling:void 0,disableAutocorrect:!1,searching:!1,isOpen:!1,dir:void 0,fitsContainer:!1,hideClose:!1,hideFocus:!1,compact:!1,hideOpenIcon:!1,searchMode:"when-typing",applySearch:!1});const x=Z},"./components/site-selector/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>ne});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../packages/calypso-url/src/url-type.ts"),r=s("../packages/calypso-url/src/url-parts.ts"),o=s("../packages/calypso-url/src/format.ts"),a=s("../packages/components/src/button/index.tsx"),c=s("../packages/search/src/search.tsx"),l=s("../node_modules/classnames/index.js"),d=s.n(l),u=s("../node_modules/debug/src/browser.js"),p=s.n(u),h=s("../packages/i18n-calypso/src/localize.js"),m=s("../node_modules/lodash-es/flow.js"),g=s("../node_modules/page/page.js"),y=s.n(g),_=s("../node_modules/react/index.js"),f=s("../node_modules/react-dom/index.js"),b=s("../node_modules/react-redux/es/index.js"),S=s("./blocks/all-sites/index.jsx"),Z=s("./blocks/site/placeholder.jsx"),x=s("./components/search/index.jsx"),v=s("./lib/scroll-into-viewport/index.js"),j=s("./lib/url/add-query-args.ts"),w=s("./my-sites/sidebar/static-data/all-sites-menu.js"),k=s("./state/analytics/actions/record.js"),P=s("./state/current-user/selectors.js"),I=s("./state/selectors/are-all-sites-single-user.js"),C=s("./state/selectors/can-any-site-have-plugins.ts"),N=s("./state/selectors/get-sites.js"),L=s("./state/selectors/get-visible-sites.js"),D=s("./state/selectors/has-loaded-sites.js"),R=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),T=s("./state/sites/hooks/use-sites-sorting.ts"),M=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const B=(0,R.o)((e=>t=>(0,M.tZ)(e,{...t,...(0,T.ph)()})),"withSitesSortingPreference");var F=s("./state/sites/selectors/get-site.js"),A=s("./state/sites/selectors/has-all-sites-list.js"),O=s("./state/ui/selectors/get-selected-site.ts"),E=s("../packages/i18n-calypso/src/use-translate.js"),$=s("./lib/jetpack/is-jetpack-cloud.ts"),U=s("./lib/paths/index.js"),q=s("./state/index.ts"),H=s("./state/ui/selectors/get-selected-site-slug.js");const V=()=>{const e=(0,E.Z)(),t=(0,q.I0)(),s=(0,q.v9)(H.Z),i=(0,_.useCallback)((()=>{const e=(0,$.Z)()?"calypso_add_new_jetpack_click":"calypso_add_new_wordpress_click";t((0,k.jN)(e))}),[t]);return(0,M.tZ)(a.Z,{primary:!0,href:(0,j.Z)({ref:"calypso-selector",source:"my-home",siteSlug:s},(0,U.Nf)()),onClick:i,children:e("Add new site")})};var W=s("../packages/sites/src/create-sites-list-component.ts"),K=s("../node_modules/@wordpress/element/build-module/create-interpolate-element.js"),z=s("../node_modules/@wordpress/i18n/build-module/index.js"),X=s("../node_modules/@wordpress/react-i18n/build-module/index.js"),Y=s("./blocks/site/index.jsx");const J=(0,W.J)({grouping:!1}),G=B((({searchTerm:e,maxResults:t,sitesSorting:s,addToVisibleSites:i,isReskinned:n,sites:r,onSelect:o,indicator:a,onMouseEnter:c,isHighlighted:l,isSelected:d})=>{const{__:u}=(0,X.QT)();return(0,M.tZ)(J,{filtering:{search:e},sites:r,sorting:s,children:({sites:e})=>{if(0===e.length)return(0,M.tZ)("div",{className:"site-selector__no-results",children:u("No sites found")});const s=null!=t?e.slice(0,t):e;return(0,M.BX)(M.HY,{children:[s.map((e=>(i(e.ID),(0,M.tZ)(Y.Z,{site:e,indicator:a,onSelect:o,onMouseEnter:c,isHighlighted:l(e.ID),isSelected:d(e),isReskinned:n},"site-"+e.ID)))),s.length<e.length&&(0,M.tZ)("span",{className:"site-selector__list-bottom-adornment",children:(0,K.Z)((0,z.gB)(u("Only displaying the first %(maxResults)d sites.<br />Use search to refine."),{maxResults:t}),{br:(0,M.tZ)("br",{})})})]})}})}));var Q=s("./components/site-selector/utils.ts");const ee="ALL_SITES",te=()=>{},se=p()("calypso:site-selector");class ie extends _.Component{constructor(...e){super(...e),(0,i.Z)(this,"state",{highlightedIndex:-1,showSearch:!1,isKeyboardEngaged:!1,searchTerm:""}),(0,i.Z)(this,"onSearch",(e=>{const t=e.trim();this.setState({highlightedIndex:e?0:-1,showSearch:!!t||this.state.showSearch,isKeyboardEngaged:!0,searchTerm:t})})),(0,i.Z)(this,"onKeyDown",(e=>{const t=this.visibleSites.length;if(0===t||e.shiftKey)return;const{highlightedSiteId:s,highlightedIndex:i}=this.computeHighlightedSite();let n=null;switch(e.key){case"ArrowUp":n=i-1,n<0&&(n=t-1);break;case"ArrowDown":n=i+1,n>=t&&(n=0);break;case"Enter":s&&(s===ee?this.onSiteSelect(e,ee):this.onSiteSelect(e,s))}null!==n&&(this.lastMouseHover=null,this.setState({highlightedIndex:n,isKeyboardEngaged:!0}))})),(0,i.Z)(this,"onSiteSelect",((e,t)=>{if(t!==ee){const e=this.visibleSites.filter((e=>e!==ee));this.props.recordTracksEvent("calypso_switch_site_click_item",{position:e.indexOf(t)+1,list_item_count:e.length,is_searching:this.state.searchTerm.length>0,sort_key:this.props.sitesSorting.sortKey,sort_order:this.props.sitesSorting.sortOrder})}const s=this.props.onSiteSelect(t);if(this.props.onClose(e,t),!this.siteSelectorRef)return;const i=f.findDOMNode(this.siteSelectorRef);i&&(i.scrollTop=0),s||this.props.navigateToSite(t,this.props)})),(0,i.Z)(this,"onAllSitesSelect",((e,t)=>{this.props.recordTracksEvent("calypso_all_my_sites_click",t),this.onSiteSelect(e,ee)})),(0,i.Z)(this,"onManageSitesClick",(()=>{this.props.recordTracksEvent("calypso_manage_sites_click")})),(0,i.Z)(this,"onSiteHover",((e,t)=>{this.lastMouseHover!==t&&(se(`${t} hovered`),this.lastMouseHover=t)})),(0,i.Z)(this,"onAllSitesHover",(()=>{this.lastMouseHover!==ee&&(se("ALL_SITES hovered"),this.lastMouseHover=ee)})),(0,i.Z)(this,"onMouseLeave",(()=>{se("mouse left site selector - nothing hovered anymore"),this.lastMouseHover=null})),(0,i.Z)(this,"onMouseMove",(e=>{e.pageX===this.lastMouseMoveX&&e.pageY===this.lastMouseMoveY||(this.lastMouseMoveY=e.pageY,this.lastMouseMoveX=e.pageX,this.state.isKeyboardEngaged&&this.setState({isKeyboardEngaged:!1}))})),(0,i.Z)(this,"isSelected",(e=>{const t=this.props.selected||this.props.selectedSite;return e===ee&&null===t||t===e.ID||t===e.domain||t===e.slug})),(0,i.Z)(this,"isHighlighted",(e=>this.state.isKeyboardEngaged&&this.visibleSites.indexOf(e)===this.state.highlightedIndex)),(0,i.Z)(this,"setSiteSelectorRef",(e=>this.siteSelectorRef=e)),(0,i.Z)(this,"mapAllSitesPath",(e=>e.includes("/posts/my")?e.replace("/posts/my","/posts"):e))}componentDidUpdate(e,t){this.state.isKeyboardEngaged&&t.highlightedIndex!==this.state.highlightedIndex&&this.scrollToHighlightedSite()}scrollToHighlightedSite(){if(!this.siteSelectorRef)return;const e=f.findDOMNode(this.siteSelectorRef);if(!e)return;const t=e.querySelector(".site.is-highlighted, .site-selector .all-sites.is-highlighted");t&&(0,v.Z)(t,{block:"nearest",scrollMode:"if-needed"})}computeHighlightedSite(){let e,t;return this.state.isKeyboardEngaged?(se("using highlight from last keyboard interaction"),e=this.visibleSites[this.state.highlightedIndex],t=this.state.highlightedIndex):this.lastMouseHover?(se(`restoring highlight from last mouse hover (${this.lastMouseHover})`),e=this.props.highlightedSiteId||this.lastMouseHover,t=this.visibleSites.indexOf(e)):(se("resetting highlight as mouse left site selector"),e=null,t=-1),{highlightedSiteId:e,highlightedIndex:t}}shouldShowGroups(){return this.props.groups}sitesToBeRendered(){let e=this.state.searchTerm||this.props.showHiddenSites?this.props.sites:this.props.visibleSites;return this.props.filter&&(e=e.filter(this.props.filter)),this.props.hideSelected&&this.props.selected&&(e=e.filter((e=>e.slug!==this.props.selected))),e}renderAllSites(){if(!this.props.showAllSites||this.state.searchTerm||!this.props.allSitesPath)return null;const e=(0,w.Z)({showManagePlugins:this.props.hasSiteWithPlugins}).find((e=>e.url===this.mapAllSitesPath(this.props.allSitesPath)));if(this.props.showManageSitesButton&&!e)return null;if(this.props.showManageSitesButton&&!this.props.selectedSite)return null;this.visibleSites.push(ee);const t=this.isHighlighted(ee);return(0,M.tZ)(S.Z,{onSelect:t=>this.onAllSitesSelect(t,e?{multi_site_context_slug:e.slug}:void 0),onMouseEnter:this.onAllSitesHover,isHighlighted:t,isSelected:this.isSelected(ee),title:e&&e.navigationLabel,showCount:!e?.icon,showIcon:!!e?.icon,icon:e?.icon&&(0,M.tZ)("span",{className:"dashicons-before "+e.icon,"aria-hidden":!0})},"selector-all-sites")}renderSites(e){return this.props.hasAllSitesList?(0,M.tZ)(G,{maxResults:this.props.maxResults,addToVisibleSites:e=>this.visibleSites.push(e),searchTerm:this.state.searchTerm,sites:e,indicator:this.props.indicator,onSelect:this.onSiteSelect,onMouseEnter:this.onSiteHover,isHighlighted:this.isHighlighted,isSelected:this.isSelected,isReskinned:this.props.isReskinned}):(0,M.tZ)(Z.Z,{},"site-placeholder")}render(){if(this.props.isPlaceholder)return(0,M.tZ)("div",{className:"site-selector"});const e=this.props.siteCount-this.props.visibleSiteCount,t=d()("site-selector","sites-list",this.props.className,{"is-large":this.props.siteCount>6||e>0||this.state.showSearch,"is-single":1===this.props.visibleSiteCount,"is-hover-enabled":!this.state.isKeyboardEngaged});this.visibleSites=[];const s=this.sitesToBeRendered(),i=this.props.isReskinned?c.Z:x.ZP;return(0,M.BX)("div",{className:t,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:[(0,M.tZ)(i,{onSearch:this.onSearch,placeholder:this.props.searchPlaceholder,autoFocus:this.props.autoFocus,disabled:!this.props.hasLoadedSites,onSearchClose:this.props.onClose,onKeyDown:this.onKeyDown,isReskinned:this.props.isReskinned}),(0,M.BX)("div",{className:"site-selector__sites",ref:this.setSiteSelectorRef,children:[this.renderAllSites(),this.renderSites(s),!this.props.showHiddenSites&&e>0&&!this.state.searchTerm&&(0,M.tZ)("span",{className:"site-selector__list-bottom-adornment",children:this.props.translate("%(hiddenSitesCount)d more hidden site. {{a}}Change{{/a}}.{{br/}}Use search to access it.","%(hiddenSitesCount)d more hidden sites. {{a}}Change{{/a}}.{{br/}}Use search to access them.",{count:e,args:{hiddenSitesCount:e},components:{br:(0,M.tZ)("br",{}),a:(0,M.tZ)("a",{href:"https://dashboard.wordpress.com/wp-admin/index.php?page=my-blogs&show=hidden",target:"_blank",rel:"noopener noreferrer"})}})})]}),(this.props.showManageSitesButton||this.props.showAddNewSite)&&(0,M.BX)("div",{className:"site-selector__actions",children:[this.props.showManageSitesButton&&(0,M.tZ)(a.Z,{transparent:!0,onClick:this.onManageSitesClick,href:(0,j.Z)({search:this.state.searchTerm.length>0?this.state.searchTerm:null},"/sites"),children:this.props.translate("Manage sites")}),this.props.showAddNewSite&&(0,M.tZ)(V,{})]})]})}}(0,i.Z)(ie,"defaultProps",{sites:{},showManageSitesButton:!1,showAddNewSite:!1,showAllSites:!1,showHiddenSites:!1,siteBasePath:!1,indicator:!1,hideSelected:!1,selected:null,onClose:te,onSiteSelect:te,groups:!1,autoFocus:!1});const ne=(0,m.Z)(h.Z,B,(0,b.$j)((e=>{const t=(0,P.ts)(e);return{hasLoadedSites:(0,D.Z)(e),sites:(0,N.Z)(e,!1),siteCount:(0,Q.h)(t),visibleSiteCount:(0,Q.D)(t),selectedSite:(0,O.Z)(e),visibleSites:(0,L.Z)(e),allSitesSingleUser:(0,I.Z)(e),hasAllSitesList:(0,A.Z)(e),hasSiteWithPlugins:(0,C.y)(e)}}),{navigateToSite:(e,{allSitesPath:t,allSitesSingleUser:s,siteBasePath:i})=>(a,c)=>{const l=c(),d=(0,F.Z)(l,e),u=function(){if(se("getPathnameForSite",e,d),e===ee){const e=s?"/posts":"/posts/my",i=t.replace(/^\/posts\b(\/my)?/,e);return i.match(/^\/stats\/insights\/?/)?"/stats/day":i.match(/^\/backup\/.*\/(download|restore|detail)/)?"/backup":i}if(i){const e=function(){let e=i;const t=d.jetpack||d.single_user_site?"/posts":"/posts/my";e=e.replace(/^\/posts\b(\/my)?/,t),e.match(/^\/stats\/(post|page)\//)&&(e="/stats");e.match(/^\/domains\/manage\//)&&(e="/domains/manage");e.match(/^\/email\//)&&(e="/email");if(e.match(/^\/store\/stats\//)){d.jetpack&&d.options&&d.options.woocommerce_is_active||(e="/stats/day")}e.match(/^\/backup\/.*\/(download|restore|detail)/)&&(e="/backup");return e}(),t=(0,n.D)(e),{origin:s,pathname:a,search:c}=(0,r.A)(e),l=`${a}/${d.slug}`;try{const e=(0,r.C)({origin:s||window.location.origin,pathname:l,search:c});return(0,o.Z)(e,t)}catch{return null}}}();u&&y()(u)},recordTracksEvent:k.jN}))(ie)},"./components/site-selector/utils.ts":(e,t,s)=>{s.d(t,{D:()=>a,h:()=>o});var i=s("../node_modules/lodash-es/get.js"),n=s("./lib/jetpack/is-jetpack-cloud.ts");const r=e=>(0,n.Z)()?(e=>`jetpack_${e}`)(e):e;function o(e){return(0,i.Z)(e,r("site_count"),0)}function a(e){return(0,i.Z)(e,r("visible_site_count"),0)}},"./lib/analytics/page-view-tracker/index.jsx":(e,t,s)=>{s.d(t,{A:()=>b,Z:()=>Z});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/debug/src/browser.js"),r=s.n(n),o=s("../node_modules/lodash-es/get.js"),a=s("../node_modules/react/index.js"),c=s("../node_modules/react-redux/es/index.js"),l=s("./lib/route/path.ts"),d=s("./state/analytics/actions/record-with-client-id.js"),u=s("./state/analytics/actions/enhance-with-site-type.js"),p=s("./state/analytics/actions/enhance-with-site-main-product.js"),h=s("./state/current-user/selectors.js"),m=s("./state/sites/selectors/get-site-slug.js"),g=s("./state/ui/selectors/get-selected-site-id.js"),y=s("./state/utils/with-enhancers.ts");const _=r()("calypso:analytics:PageViewTracker"),f=()=>{};class b extends a.Component{constructor(...e){super(...e),(0,i.Z)(this,"state",{timer:null}),(0,i.Z)(this,"queuePageView",(()=>{const{delay:e=0,path:t,recorder:s=f,hasSelectedSiteLoaded:i,isUserAuthenticated:n,title:r}=this.props;if(_(`Queuing Page View: "${r}" at "${t}" with ${e}ms delay`),!(!i&&n||this.state.timer))return e?void this.setState({timer:setTimeout((()=>s(t,r)),e)}):this.recordViewWithProperties()}))}componentDidMount(){_("Component has mounted."),this.queuePageView()}componentWillUnmount(){_("Component has unmounted."),clearTimeout(this.state.timer)}componentDidUpdate(e){e.path===this.props.path&&e.selectedSiteId===this.props.selectedSiteId||this.queuePageView()}recordViewWithProperties(){const{path:e,recorder:t=f,title:s,properties:i,options:n}=this.props;return t(e,s,"default",i,n)}render(){return null}}(0,i.Z)(b,"displayName","PageViewTracker");const S={recorder:(0,y.i)(d.y,[u.R,p.n])},Z=(0,c.$j)((e=>{const t=(0,g.Z)(e),s=(0,m.Z)(e,t),i="undefined"==typeof window?"":(0,l.lQ)((0,o.Z)(window,"location.pathname",""));return{hasSelectedSiteLoaded:!i||"number"==typeof i&&i===t||i===s,selectedSiteId:t,isUserAuthenticated:(0,h.rc)(e)}}),S)(b)},"./lib/format-number-compact/index.js":(e,t,s)=>{s.d(t,{Z:()=>r,K:()=>l});var i=s("../packages/i18n-calypso/src/index.js");const n={en:{symbol:"K",grouping:",",decimal:"."},es:{symbol:" mil",grouping:".",decimal:","},"pt-br":{symbol:" mil",grouping:".",decimal:","},de:{symbol:" Tsd.",grouping:".",decimal:","},fr:{symbol:" k",grouping:" ",decimal:","},he:{symbol:"K",grouping:",",decimal:"."},ja:{symbol:"万",unitValue:1e4,grouping:",",decimal:"."},nl:{symbol:"K",grouping:".",decimal:","},tr:{symbol:" B",grouping:".",decimal:","},id:{symbol:" rb",grouping:".",decimal:","},"zh-cn":{symbol:"万",unitValue:1e4,grouping:",",decimal:"."},"zh-tw":{symbol:"萬",unitValue:1e4,grouping:",",decimal:"."},ko:{symbol:"천",grouping:",",decimal:"."},ar:{symbol:" ألف",grouping:"٬",decimal:"٫"},sv:{symbol:" tn",grouping:" ",decimal:","}};function r(e,t=i.ZP.getLocaleSlug()){if(isNaN(e)||!n[t])return null;const{decimal:s,grouping:r,symbol:o,unitValue:a=1e3}=n[t],c=e<0?"-":"",l=Math.abs(e);if(l<a)return`${c}${l}`;const d=l<10*a?1:0;return`${c}${(0,i.Y4)(l/a,{decimals:d,thousandsSep:r,decPoint:s})}${o}`}const o=1e3,a=1e3*o,c=1e3*a;function l(e,t=1){return e<o?String(e):e<a?(e/o).toFixed(t)+"K":e<c?(e/a).toFixed(t)+"M":(e/c).toFixed(t)+"G"}},"./lib/logstash/index.ts":(e,t,s)=>{s.d(t,{C:()=>n});var i=s("./lib/wp/browser.js");async function n(e){await i.Z.req.post("/logstash",{params:JSON.stringify(e)})}},"./lib/scroll-into-viewport/index.js":(e,t,s)=>{s.d(t,{Z:()=>o});const i="undefined"!=typeof document&&document.documentElement&&"scrollBehavior"in document.documentElement.style;function n(e,t,s,i=0){return i+=e[t],e[s]?n(e[s],t,s,i):i}function r(e,t,s){const i=n(e,"offsetTop","offsetParent");if(!function(e,t){const s=window.scrollY,i=document.documentElement.clientHeight+window.scrollY;return e>s&&t<i}(i,i+e.offsetHeight)||"if-needed"!==s)try{window.scroll({top:i,left:0,behavior:t})}catch(e){window.scrollTo(0,i)}}function o(e,t={}){const{behavior:s="auto",block:n="start",scrollMode:o="always",...a}=t;if(e)if(!e.scrollIntoViewIfNeeded||"auto"!==s&&i||"center"!==n&&"nearest"!==n||"if-needed"!==o||void 0!==a){if(e.scrollIntoView)try{return void e.scrollIntoView(t)}catch(e){}r(e,s,o)}else e.scrollIntoViewIfNeeded("center"===n)}},"./my-sites/controller.js":(e,t,s)=>{s.d(t,{os:()=>lt,tV:()=>_t,G:()=>St,KT:()=>gt,Gh:()=>wt,AN:()=>bt,zK:()=>xt,gX:()=>dt,cK:()=>Pt,r5:()=>mt,tq:()=>yt,tc:()=>Zt,b_:()=>vt,ow:()=>ht,Uc:()=>kt,Sf:()=>jt});var i=s("../packages/calypso-config/src/index.ts"),n=s("../packages/calypso-products/src/constants/wpcom.ts"),r=s("../packages/calypso-products/src/constants/jetpack.ts"),o=s("../node_modules/@wordpress/url/build-module/remove-query-args.js"),a=s("../packages/i18n-calypso/src/index.js"),c=s("../node_modules/lodash-es/some.js"),l=s("../node_modules/lodash-es/startsWith.js"),d=s("../node_modules/page/page.js"),u=s.n(d),p=s("../node_modules/react/index.js"),h=s("./components/empty-content/index.jsx"),m=s("./components/empty-content/no-sites-message/index.jsx"),g=s("./controller/index.web.js"),y=s("./controller/shared.js"),_=s("./controller/web-util.js"),f=s("../packages/i18n-utils/src/utils.ts"),b=s("../packages/components/src/button/index.tsx"),S=s("../packages/i18n-calypso/src/use-translate.js"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=({siteSlug:e})=>{const t=(0,S.Z)();return(0,Z.BX)("div",{className:"no-jetpack-sites-message",children:[(0,Z.tZ)("h2",{className:"no-jetpack-sites-message__header",children:t("Jetpack features are already part of WordPress.com")}),e&&(0,Z.tZ)("p",{children:t("Your site, %(siteSlug)s, already has the power of Jetpack built in. Its features can be found within your WordPress.com dashboard.",{args:{siteSlug:e}})}),(0,Z.tZ)("p",{children:t("This area is only for Jetpack customers with self-hosted WordPress sites.")}),(0,Z.tZ)(b.Z,{primary:!0,href:"https://wordpress.com",rel:"noopener noreferrer",children:t("Visit Dashboard")})]})};var v=s("./lib/analytics/page-view.js"),j=s("./lib/route/path.ts"),w=s("./lib/url/add-query-args.ts"),k=s("./state/current-user/selectors.js"),P=s("./state/selectors/get-primary-site-id.js"),I=s("./state/sites/actions.js"),C=s("./state/sites/selectors/get-site-id.js"),N=s("./state/sites/selectors/get-site-slug.js"),L=s("./state/ui/actions/set-sites.js");const D=e=>e.params.site||(0,j.lQ)(e.path)||void 0,R=(e,t)=>{const{getState:s,dispatch:i}=e.store;return i((0,I.LV)(t)).catch((()=>null)).then((()=>({id:(0,C.Z)(s(),t),slug:(0,N.Z)(s(),t)})))},T=(e,t)=>{const{dispatch:s}=e.store;s((0,L.B)(t)),ht(e)},M=(e,t)=>{const{getState:s,dispatch:i}=e.store,n=(0,k.ts)(s());if(1===n?.visible_site_count){const t=(0,P.Z)(s()),r=(0,N.Z)(s(),t);r?bt(e,r):R(e,t).then((({slug:t})=>{t?bt(e,t):mt(n,i)}))}else i((0,L._)()),t()},B=async(e,t,s)=>{const{getState:i}=t.store,n=(0,C.Z)(i(),e);if(n)T(t,n),s();else{const{id:i}=await R(t,e);if(i)T(t,i),s();else if("1"===t.query.unlinked)s();else{const s=(0,w.Z)({site:e},(0,j.n3)(t.path,e));u().redirect(s)}}},F=(e,t)=>{(0,g.QS)({group:"sites"})(e),e.primary=(0,p.createElement)(x,{siteSlug:t}),(0,g.wx)(e,(()=>{})),(0,g.sY)(e)};function A(e,t){const{getState:s}=t.store,i=(0,k.ts)(s());return 0===i?.jetpack_site_count?(F(t,i.primarySiteSlug),function(e,t){(0,v.A)("/landing","No Jetpack Sites",{base_path:(0,j.n3)(e.path,t)})}(t,e),!0):0===i?.jetpack_visible_site_count?(dt(t),function(e,t){(0,v.A)("/landing","All Jetpack Sites Hidden",{base_path:(0,j.n3)(e.path,t)})}(t,e),!0):void 0}var O=s("./lib/analytics/page-view-tracker/index.jsx"),E=s("./lib/analytics/tracks.js"),$=s("./lib/jetpack/is-jetpack-cloud.ts"),U=s("./lib/navigate/index.ts"),q=s("./lib/paths/index.js"),H=s("./lib/route/trailingslashit.ts"),V=s("./lib/url/http-utils.ts"),W=s("./my-sites/domains/domain-management/list/domain-only.jsx"),K=s("./my-sites/domains/paths.js"),z=s("./my-sites/email/paths.js");const X="/calypso/images/../images/site-build-in-progress-9b47a2a89d806fce3e9d.svg",Y="/calypso/images/../images/website-content-required-793fb3aff81d58c467f7.svg";var J=s("./components/data/query-site-domains/index.jsx"),G=s("./components/data/query-site-purchases/index.jsx"),Q=s("./components/localized-moment/index.js"),ee=s("./lib/gsuite/has-gsuite-with-us.ts"),te=s("./lib/titan/index.js"),se=s("./state/index.ts"),ie=s("./state/analytics/actions/record.js"),ne=s("./state/purchases/selectors/get-site-purchases.ts"),re=s("./state/purchases/selectors/fetching.js"),oe=s("./state/selectors/get-primary-domain-by-site-id.js"),ae=s("./state/selectors/get-raw-site.ts");var ce=s("./state/sites/selectors/is-requesting-site.js"),le=s("./state/sites/selectors/is-requesting-sites.js");function de({primaryDomain:e,siteId:t,siteSlug:s}){const i=(0,S.Z)(),r=(0,se.v9)((e=>(0,ne.q)(e,t))).find((e=>n.m6===e.productSlug)),o=(0,Q.B)();let a=null;if(r?.subscribedDate){const e=new Date(r.subscribedDate);a=e.setDate(e.getDate()+r.refundPeriodInDays),a<Date.now()&&(a=null)}const c={components:{br:(0,Z.tZ)("br",{}),SupportLink:(0,Z.tZ)("a",{href:`mailto:builtby+express@wordpress.com?subject=${encodeURIComponent(`I need help with my site: ${e.domain}`)}`})},args:{contentSubmissionDueDate:a?o(a).format("MMMM Do, YYYY"):null}},l=i(a?"Click the button below to provide the content we need to build your site by %(contentSubmissionDueDate)s.{{br}}{{/br}}{{SupportLink}}Contact support{{/SupportLink}} if you have any questions.":"Click the button below to provide the content we need to build your site.{{br}}{{/br}}{{SupportLink}}Contact support{{/SupportLink}} if you have any questions.",c);return(0,Z.tZ)(h.Z,{title:i("Website content not submitted"),line:l,action:i("Provide website content"),actionURL:`/start/site-content-collection/website-content?siteSlug=${s}`,illustration:Y,illustrationWidth:144,className:"difm-lite-in-progress__content"})}function ue({primaryDomain:e,siteSlug:t}){const s=(0,S.Z)(),i=(0,se.I0)(),n=e.name,r=(0,ee.u)(e)||(0,te.zW)(e);return(0,Z.tZ)(h.Z,{title:s("Your content submission was successful!"),line:s("We are currently building your site and will send you an email when it's ready, within %d business days.{{br}}{{/br}}{{SupportLink}}Contact support{{/SupportLink}} if you have any questions.",{components:{br:(0,Z.tZ)("br",{}),SupportLink:(0,Z.tZ)("a",{href:`mailto:builtby+express@wordpress.com?subject=${encodeURIComponent(`I need help with my site: ${e.domain}`)}`})},args:[4]}),action:s("Manage domain"),actionURL:(0,K.Hf)(t),secondaryAction:s(r?"Manage email":"Add email"),secondaryActionURL:(0,z.Fb)(t,null),secondaryActionCallback:()=>{const e=r?"calypso_difm_lite_in_progress_email_manage":"calypso_difm_lite_in_progress_email_cta";i((0,ie.jN)(e,{domain:n}))},illustration:X,illustrationWidth:144,className:"difm-lite-in-progress__content"})}const pe=function({siteId:e}){const t=(0,se.v9)((t=>(0,N.Z)(t,e))),s=(0,se.v9)((t=>(0,ce.Z)(t,e)||(0,le.Z)(t)||(0,re.GR)(t))),i=(0,se.v9)((t=>function(e,t){if(!t)return!1;const s=(0,ae.Z)(e,t);return!!s&&(s.options?.difm_lite_site_options?.is_website_content_submitted??!1)}(t,e))),n=(0,se.v9)((t=>(0,oe.Z)(t,e)));return(0,G.E)(e),n&&t&&!s?i?(0,Z.tZ)(ue,{primaryDomain:n,siteSlug:t}):(0,Z.tZ)(de,{primaryDomain:n,siteSlug:t,siteId:e}):(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(J.Z,{siteId:e}),(0,Z.tZ)(h.Z,{className:"difm-lite-in-progress__site-placeholder",illustration:X,illustrationWidth:144})]})};var he=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),me=s("./components/async-load/index.jsx"),ge=s("../node_modules/react-click-outside/dist/index.js"),ye=s.n(ge),_e=s("../node_modules/react-redux/es/index.js"),fe=s("./components/close-on-escape/index.jsx"),be=s("./components/site-selector/index.jsx"),Se=s("./lib/touch-detect/index.js"),Ze=s("./state/sites/selectors/is-jetpack-site-pred.ts");function xe(e){return!!e?.options?.jetpack_connection_active_plugins?.length}var ve=s("./state/ui/layout-focus/actions.js"),je=s("./state/ui/layout-focus/selectors.js");const we=(0,Ze.Z)({considerStandaloneProducts:(0,$.Z)()});class ke extends p.Component{constructor(...e){super(...e),(0,he.Z)(this,"state",{isAutoFocused:!1,isRendered:"sites"===this.props.currentLayoutFocus}),(0,he.Z)(this,"onClose",((e,t)=>{"Escape"===e.key?this.closePicker():(this.props.setNextLayoutFocus("sidebar"),t&&this.scrollToTop()),this.props.onClose(e,t)})),(0,he.Z)(this,"scrollToTop",(()=>{document.getElementById("secondary").scrollTop=0,window.scrollTo(0,0)})),(0,he.Z)(this,"closePicker",(e=>{"sites"===this.props.currentLayoutFocus&&(this.props.setLayoutFocus("sidebar"),e&&this.scrollToTop())})),(0,he.Z)(this,"handleClickOutside",(()=>{this.closePicker(null)})),(0,he.Z)(this,"filterSites",(e=>!xe(e)||we(e)))}UNSAFE_componentWillReceiveProps(e){if("sites"!==e.currentLayoutFocus||this.state.isRendered||this.setState({isRendered:!0}),!e.currentLayoutFocus||(0,Se._)())return;const t="sites"===e.currentLayoutFocus;t!==this.state.isAutoFocused&&this.setState({isAutoFocused:t})}render(){return(0,Z.BX)("div",{children:[(0,Z.tZ)(fe.Z,{onEscape:this.closePicker}),(0,Z.tZ)(be.Z,{maxResults:this.props.maxResults,showHiddenSites:this.props.showHiddenSites,showManageSitesButton:this.props.showManageSitesButton,isPlaceholder:!this.state.isRendered,indicator:!0,showAddNewSite:!0,showAllSites:!0,allSitesPath:this.props.allSitesPath,siteBasePath:this.props.siteBasePath,autoFocus:this.state.isAutoFocused,onClose:this.onClose,groups:!0,filter:this.filterSites})]})}}(0,he.Z)(ke,"displayName","SitePicker"),(0,he.Z)(ke,"defaultProps",{onClose:()=>{}});const Pe=(0,_e.$j)((function(e){return{currentLayoutFocus:(0,je.d)(e)}}),{setNextLayoutFocus:ve.SB,setLayoutFocus:ve.Js})(ye()(ke));var Ie=function(e){Promise.all([s.e(62135),s.e(25622),s.e(52203),s.e(14445),s.e(19540),s.e(34256),s.e(37148)]).then(s.bind(s,"./components/jetpack/sidebar/index.jsx")).then((function(t){e(t.default)}))},Ce=function(e){Promise.all([s.e(52203),s.e(60650),s.e(65962),s.e(33999)]).then(s.bind(s,"./my-sites/sidebar/index.jsx")).then((function(t){e(t.default)}))};class Ne extends p.Component{constructor(...e){super(...e),(0,he.Z)(this,"preventPickerDefault",(e=>{e.preventDefault(),e.stopPropagation()}))}render(){const e={placeholder:null,path:this.props.path,siteBasePath:this.props.siteBasePath};let t=null,s={};return i.ZP.isEnabled("jetpack-cloud")?(t=(0,Z.tZ)(me.Z,{require:Ie,...e}),s={showManageSitesButton:!1,showHiddenSites:!1}):(t=(0,Z.tZ)(me.Z,{require:Ce,...e}),s={showManageSitesButton:!0,showHiddenSites:!0,maxResults:50}),(0,Z.BX)("div",{children:[(0,Z.tZ)(Pe,{allSitesPath:this.props.allSitesPath,siteBasePath:this.props.siteBasePath,onClose:this.preventPickerDefault,...s}),t]})}}(0,he.Z)(Ne,"displayName","MySitesNavigation");const Le=Ne;var De=s("../packages/components/src/card/index.tsx"),Re=s("../node_modules/classnames/index.js"),Te=s.n(Re),Me=s("../packages/i18n-calypso/src/localize.js"),Be=s("./blocks/visit-site/index.jsx"),Fe=s("./components/data/document-head/index.jsx"),Ae=s("./components/main/index.tsx"),Oe=s("./state/selectors/get-sites.js"),Ee=s("./state/selectors/has-loaded-sites.js");const $e=(0,Ze.Z)({considerStandaloneProducts:(0,$.Z)()});class Ue extends p.Component{constructor(...e){super(...e),(0,he.Z)(this,"filterSites",(e=>{if(xe(e)&&!$e(e))return!1;const t=this.props.siteBasePath;return/^\/domains/.test(t)?!e?.is_wpcom_staging_site&&(!e.jetpack||e.options.is_automated_transfer):/^\/plans/.test(t)?!e?.is_wpcom_staging_site&&(!e.jetpack||e.capabilities.manage_options):/^\/hosting-config/.test(t)?!!e.capabilities.view_hosting:/^\/home/.test(t)?!e.is_vip:e}))}componentDidMount(){const e=this.getPath();this.props.fromSite&&e&&(0,E.recordTracksEvent)("calypso_site_selector_site_missing",{path:e,site:this.props.fromSite})}getPath(){let e=this.props.siteBasePath.split("?")[0].split("/")[1];return void 0!==e&&(e=e.toLowerCase()),e}getHeaderText(){if(this.props.getSiteSelectionHeaderText)return this.props.getSiteSelectionHeaderText();let e=this.getPath();const{translate:t}=this.props;if(["page","post","edit","block-editor"].includes(e))return t("Select a site to start writing");switch(e){case"activity-log":e=t("Activity");break;case"stats":e=t("Insights");break;case"plans":e=t("Plans");break;case"media":e=t("Media");break;case"sharing":e=t("Sharing");break;case"people":e=t("Users");break;case"domains":e=t("Domains");break;case"settings":e=t("Settings");break;case"home":e=t("My Home");break;case"hosting-config":e=t("Hosting Configuration");break;case"jetpack-search":e="Jetpack Search";break;case"site-logs":e=t("Site Logs")}return t("Select a site to open {{strong}}%(path)s{{/strong}}",{args:{path:e},components:{strong:(0,Z.tZ)("strong",{})}})}render(){const{clearPageTitle:e,fromSite:t,siteBasePath:s,sites:i,translate:n,hasFetchedSites:r}=this.props,o=i.filter(this.filterSites),a=(0,$.Z)()&&r&&!o.length;return(0,Z.BX)(Z.HY,{children:[e&&(0,Z.tZ)(Fe.Z,{title:""}),(0,Z.tZ)(Ae.Z,{className:Te()("sites",{"sites__main-empty":a}),children:a?(0,Z.BX)("div",{className:"sites__empty-state",children:[(0,Z.tZ)("h1",{className:"card-heading-36",children:n("Add a site")}),(0,Z.tZ)("p",{children:n("It looks like you don’t have any connected Jetpack sites to manage.")}),(0,Z.tZ)(b.Z,{primary:!0,target:"_blank",href:"https://jetpack.com/support/jetpack-agency-licensing-portal-instructions/add-sites-agency-portal-dashboard/",children:n("Learn how to add a site")})]}):(0,Z.BX)(Z.HY,{children:[(0,Z.BX)("div",{className:"sites__select-header",children:[(0,Z.tZ)("h2",{className:"sites__select-heading",children:this.getHeaderText()}),t&&(0,Z.tZ)(Be.Z,{siteSlug:t})]}),(0,Z.tZ)(De.Z,{className:"sites__select-wrapper",children:(0,Z.tZ)(be.Z,{filter:this.filterSites,siteBasePath:s,groups:!0})})]})})]})}}const qe=(0,_e.$j)((e=>({hasFetchedSites:(0,Ee.Z)(e),sites:(0,Oe.Z)(e,!1)})))((0,Me.Z)(Ue));var He=s("./state/notices/actions.ts"),Ve=s("./state/preferences/actions.js"),We=s("./state/preferences/selectors.js"),Ke=s("./state/selectors/get-p2-hub-blog-id.js");var ze=s("./state/selectors/is-domain-only-site.js"),Xe=s("./state/selectors/is-site-migration-in-progress.js"),Ye=s("./state/selectors/is-site-p2-hub.js"),Je=s("./state/selectors/is-site-wpcom-staging.ts"),Ge=s("./state/selectors/is-site-wpforteams.js");var Qe=s("./state/sites/domains/selectors.js"),et=s("./state/sites/selectors/get-site-plan-slug.js"),tt=s("./state/sites/selectors/get-site.js"),st=s("./state/sites/selectors/get-site-option.ts"),it=s("./state/support/selectors.js"),nt=s("./state/ui/selectors/get-selected-site.ts"),rt=s("./state/ui/selectors/get-selected-site-id.js");const ot=e=>({getState:()=>e.store.getState(),dispatch:t=>e.store.dispatch(t)}),at="Sites",ct=()=>{};function lt(e){const t=(0,j.lQ)(e.pathname);let s=e.pathname;t&&(s=(0,j.n3)(e.pathname));let i="/home"===s?"/sites":s;return(0,$.Z)()&&s.startsWith("/plugins")&&(i="/plugins"),(0,Z.tZ)(Le,{path:e.path,allSitesPath:i,siteBasePath:s})}function dt(e){const{getState:t}=ot(e),s=t(),i=(0,k.ts)(s),n=i&&i.site_count-i.visible_site_count;(0,g.QS)({group:"sites"})(e),e.primary=(0,p.createElement)(h.Z,{title:a.ZP.translate("You have %(hidden)d hidden WordPress site.","You have %(hidden)d hidden WordPress sites.",{count:n,args:{hidden:n}}),line:a.ZP.translate("To manage it here, set it to visible.","To manage them here, set them to visible.",{count:n}),action:a.ZP.translate("Change Visibility"),actionURL:"//dashboard.wordpress.com/wp-admin/index.php?page=my-blogs",secondaryAction:a.ZP.translate("Create New Site"),secondaryActionURL:`${(0,q.Nf)()}?ref=calypso-nosites`,className:"no-visible-sites-message"}),(0,g.wx)(e,ct),(0,g.sY)(e)}function ut(e,t,s,i){const n=[K.q6,K.Y9,K.lq,K.wt,K.OL,K.En,K.Hf,K.tZ,K.Jk,K.G$,K.Iv,z.Fb,z.oc,z.m3,z.s_,z.yV,z.IR,z.x9,z.Vp,z.Y,z.y0,z.GZ];let r=n.map((e=>e===z.m3?(0,z.m3)(t,t,i.productType):e(t,t)));r=r.concat(n.map((e=>e(t,t,(0,K.eZ)())))),s&&t!==s.name&&(r=r.concat(n.map((e=>e(t,s.name)))));const o=["/checkout/",`/me/purchases/${t}`,`/purchases/add-payment-method/${t}`,`/purchases/billing-history/${t}`,`/purchases/payment-methods/${t}`,`/purchases/subscriptions/${t}`];return!!(0,c.Z)(o,(t=>(0,l.Z)(e,t)))||r.indexOf(e)>-1}function pt(e){const t=e.store.getState(),s=(0,nt.Z)(t);if((0,Xe.Z)(t,s.ID)&&!(0,l.Z)(e.pathname,"/migrate/"))return u().redirect(`/migrate/${s.slug}`),!1;if(function(e,t){const s=(0,ae.Z)(e,t);return!0===s?.was_ecommerce_trial}(t,s.ID)){const i=(0,et.Z)(t,s.ID);if([n._d,r.lj].includes(i)){if(!["/checkout/","/domains/","/email/","/export/","/plans/my-plan/trial-expired/","/purchases/","/settings/delete-site/"].some((t=>e.pathname.startsWith(t))))return u().redirect(`/plans/my-plan/trial-expired/${s.slug}`),!1;e.hideLeftNavigation=!0}}const i=(0,oe.Z)(t,s.ID);if((0,ze.Z)(t,s.ID)&&!ut(e.pathname,s.slug,i,e.params))return function(e,t){e.primary=(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(O.Z,{path:"/view/:site",title:"Domain Only"}),(0,Z.tZ)(W.Z,{siteId:t.ID,hasNotice:!1})]}),e.secondary=lt(e),(0,g.wx)(e,ct),(0,g.sY)(e)}(e,s),!1;const o=(0,Qe.eT)(t,s.ID);return!function(e,t){if(!t)return null;const s=(0,ae.Z)(e,t);return s?s.options?.is_difm_lite_in_progress??!1:null}(t,s.ID)||(0,it.o)(t)||function(e,t,s,i){const n=[(0,K.fY)(),(0,z.Fb)(t)];return s.some((s=>ut(e,t,s,i)))||n.some((t=>e.startsWith(t)))}(e.pathname,s.slug,o,e.params)?(ht(e),!0):(function(e,t){e.primary=(0,Z.tZ)(pe,{siteId:t.ID}),e.secondary=lt(e),(0,g.wx)(e,ct),(0,g.sY)(e)}(e,s),!1)}function ht(e){const t=e.store.getState();if((0,We.V2)(t)){const s=(0,rt.Z)(t),i=(0,We.Oz)(t,"recentSites");if(s&&s!==i[0]){const n=[...new Set([s,...i])].slice(0,5).filter((e=>!!(0,tt.Z)(t,e)));e.store.dispatch((0,Ve.zZ)("recentSites",n))}}}function mt(e,t){const{username:s,primary_blog:i,primary_blog_url:n,primary_blog_is_jetpack:r}=e,o={username:s,primary_blog:i,primary_blog_url:n,primary_blog_is_jetpack:r};e.primary_blog_is_jetpack?(t((0,He.PU)(a.ZP.translate("Please check your Primary Site's Jetpack connection"),{button:"wp-admin",href:`${e.primary_blog_url}/wp-admin`})),(0,E.recordTracksEvent)("calypso_mysites_single_site_jetpack_connection_error",o)):(t((0,He.tF)((0,$.Z)()?a.ZP.translate("Your Primary site is not a Jetpack site."):a.ZP.translate("Please set a Primary site."),{button:a.ZP.translate("Account Settings"),href:"https://wordpress.com/me/account"})),(0,E.recordTracksEvent)("calypso_mysites_single_site_error",o))}function gt(e,t){const{getState:s}=ot(e),i=(0,k.ts)(s()),n=i&&i.visible_site_count>=1,r="1"===e.query?.isDomainOnly,o=e.pathname.includes("/checkout/jetpack"),a=e.pathname.includes("/checkout/akismet"),c=e.pathname.includes("/gift/"),l=e.pathname.includes("/renew/");if(r||o||a||c||l||!n)return e.store.dispatch((0,L.B)(null)),t();yt(e,t)}function yt(e,t){if((0,$.Z)())return void async function(e,t){const s=D(e);if(!A(s,e))if(s){const i=(0,f.aK)().join("|");if(new RegExp(`^(/(?:${i}))?/pricing`).test(e.path)){const{id:i}=await R(e,s);if(!i)return void await M(e,t)}await B(s,e,t)}else await M(e,t)}(e,t);const{getState:s,dispatch:i}=ot(e),a=e.params.site||(0,j.lQ)(e.path),c=(0,k.ts)(s()),l=c&&1===c.visible_site_count,d="1"===e.query?.unlinked&&e.pathname.match(/^\/checkout\/[^/]+\/jetpack_/i);if(c&&0===c.site_count&&!d)return function(e){(0,g.QS)({group:"sites"})(e),e.primary=(0,p.createElement)(m.Z),(0,g.wx)(e,ct),(0,g.sY)(e)}(e),void ft(e,a);if(c&&0===c.visible_site_count&&!d)return dt(e),void function(e,t){ft(e,t,"All Sites Hidden")}(e,a);if(l&&!a){const t=(0,P.Z)(s()),n=(0,N.Z)(s(),t);return void(n?bt(e,n):i((0,I.LV)(t)).catch((()=>null)).then((()=>{const n=(0,N.Z)(s(),t);n?bt(e,n):mt(c,i)})))}const h=typeof a;if(("string"!==h||!a.length)&&"number"!==h)return i((0,L._)()),t();const y=(0,C.Z)(s(),a),_=d&&!e.pathname.includes("jetpack_boost");if(y&&!_){i((0,L.B)(y));const o=(0,et.Z)(s(),y);(e.pathname.startsWith("/plans/my-plan/trial-upgraded/")&&[n._d,r.lj].includes(o)?i((0,I.LV)(y)).catch((()=>null)):Promise.resolve()).then((()=>{pt(e)&&t()}))}else i((0,I.LV)(a)).catch((()=>null)).then((n=>{if(n&&n.ID){const t=(0,N.Z)(s(),n.ID),i=(0,V.ce)((0,st.Z)(s(),n.ID,"unmapped_url"));if(i!==t&&i===a){const s=e.hashstring?`#${e.hashstring}`:"";return u().redirect(e.path.replace(a,t)+s)}}let r=(0,C.Z)(s(),a);if(!r){const e=a.replace(/\b.wordpress.com/,".wpcomstaging.com");r=(0,C.Z)(s(),e)}if(r&&!_)i((0,L.B)(r)),pt(e)&&t();else if(function(e,t){return"1"===e.query?.unlinked&&!!t?.URL}(e,n))(0,U.c)(function(e,t){return(0,w.Z)({page:"jetpack",action:"authorize_redirect",dest_url:(0,o.I)(window.origin+e.path,"unlinked")},(0,H.Z)(t?.URL)+"wp-admin/")}(e,n));else{const t=e.path.indexOf(`/${a}`),s=e.path.substring(0,t);u().redirect(s)}}))}function _t(e,t){(0,k.Pc)(e.store.getState())?yt(e,t):t()}function ft(e,t,s){(0,v.A)("/no-sites",at+` > ${s||"No Sites"}`,{base_path:(0,j.n3)(e.path,t)})}function bt(e,t){let s=`${e.pathname.split("/no-site")[0].replace(/\/?$/,"/")}${t}`;e.querystring&&(s+=`?${e.querystring}`),u().redirect(s)}function St(e,t){e.hideLeftNavigation||(e.secondary=lt(e)),t()}function Zt(e,t){"1"===e.query.verified&&e.store.dispatch((0,He.RT)(a.ZP.translate("Email verified! Now that you've confirmed your email address you can publish posts on your blog."))),e.store.dispatch((0,ve.Js)("content")),(0,g.QS)({group:"sites"})(e),e.primary=function(e){const t=(0,j.n3)(e.path);let s=t.split("/no-site")[0];e.querystring&&(s=`${s}?${e.querystring}`);let i="/sites"===s?"/home":s;return(0,$.Z)()&&i.startsWith("/plugins")&&(i="/plugins/manage"),(0,v.A)(t,at),(0,Z.tZ)(qe,{siteBasePath:i,getSiteSelectionHeaderText:e.getSiteSelectionHeaderText,fromSite:e.query.site,clearPageTitle:e.clearPageTitle})}(e),t()}function xt(e){return(t,s)=>{const i=t.store.getState();return(0,rt.Z)(i)?s():u().redirect(e)}}function vt(e,t){const s=e.store,i=(0,nt.Z)(s.getState());if(i&&(0,Je.Z)(s.getState(),i.ID)){const e=(0,N.Z)(s.getState(),i.ID);return u().redirect(`/home/${e}`)}t()}function jt(e,t){const s=e.store,n=(0,nt.Z)(s.getState());if(!i.ZP.isEnabled("p2/p2-plus")&&n&&(0,Ge.Z)(s.getState(),n.ID)){const e=(0,N.Z)(s.getState(),n.ID);return u().redirect(`/home/${e}`)}t()}function wt(e,t){const s=e.store,n=(0,nt.Z)(s.getState());if(i.ZP.isEnabled("p2/p2-plus")&&n&&(0,Ge.Z)(s.getState(),n.ID)&&!(0,Ye.Z)(s.getState(),n.ID)){const e=(0,Ke.Z)(s.getState(),n.ID),t=(0,N.Z)(s.getState(),e);if(t)return u().redirect(`/plans/my-plan/${t}`)}t()}function kt(e,t){const s=e.store,i=(0,nt.Z)(s.getState());if(i&&(0,Ge.Z)(s.getState(),i.ID)){const e=(0,N.Z)(s.getState(),i.ID);return u().redirect(`/home/${e}`)}t()}function Pt(e,t){const s=e.store.getState();(0,k.Pc)(s)?(0,y.D9)(yt,Zt,g.wx,_.s)(e):t()}},"./my-sites/domains/domain-management/list/domain-only.jsx":(e,t,s)=>{s.d(t,{Z:()=>_});var i=s("../packages/components/src/button/index.tsx"),n=s("../packages/i18n-calypso/src/localize.js"),r=s("../node_modules/react-redux/es/index.js"),o=s("./assets/images/domains/domain.svg"),a=s("./components/data/query-site-domains/index.jsx"),c=s("./components/empty-content/index.jsx");var l=s("./lib/gsuite/has-gsuite-with-us.ts"),d=s("./lib/titan/index.js"),u=s("./my-sites/domains/paths.js"),p=s("./my-sites/email/paths.js"),h=s("./state/analytics/actions/record.js"),m=s("./state/selectors/get-primary-domain-by-site-id.js"),g=s("./state/sites/selectors/get-site-slug.js"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _=(0,r.$j)(((e,t)=>({slug:(0,g.Z)(e,t.siteId),primaryDomain:(0,m.Z)(e,t.siteId)})),{recordTracks:h.jN})((0,n.Z)((({primaryDomain:e,hasNotice:t,recordTracks:s,siteId:n,slug:r,translate:h})=>{if(!e)return(0,y.BX)("div",{children:[(0,y.tZ)(a.Z,{siteId:n}),(0,y.tZ)(c.Z,{className:"domain-only-site__placeholder",illustration:o})]});const m=(0,l.u)(e)||(0,d.zW)(e),g=e.name,_=function(e){return!!e?.currentUserCanCreateSiteFromDomainOnly}(e),f=(0,u.j$)(r,n);return(0,y.BX)("div",{children:[(0,y.tZ)(c.Z,{title:h("%(domainName)s is ready when you are.",{args:{domainName:g}}),line:_&&h("Start a site now to unlock everything WordPress.com can offer."),action:_&&h("Create site"),actionURL:_&&f,secondaryAction:h("Manage domain"),secondaryActionURL:(0,u.OL)(r,g),illustration:o,children:(0,y.tZ)(i.Z,{className:"empty-content__action button",href:(0,p.Fb)(r,g),onClick:()=>{s(m?"calypso_domain_only_email_manage":"calypso_domain_only_email_cta",{domain:g})},children:h(m?"Manage email":"Add email")})}),t&&(0,y.tZ)("div",{className:"domain-only-site__settings-notice",children:h("Your domain should start working immediately, but may be unreliable during the first 30 minutes.")})]})})))},"./my-sites/sidebar/static-data/all-sites-menu.js":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("../packages/i18n-calypso/src/index.js");function n({showManagePlugins:e=!1}={}){return[{icon:"dashicons-chart-bar",slug:"stats",title:(0,i.Iu)("Stats"),navigationLabel:(0,i.Iu)("View stats for all sites"),type:"menu-item",url:"/stats/day"},{icon:"dashicons-cart",slug:"upgrades",title:(0,i.Iu)("Domains"),navigationLabel:(0,i.Iu)("View domains for all sites"),type:"menu-item",url:"/domains/manage"},{icon:"dashicons-admin-post",slug:"edit-php",title:(0,i.Iu)("Posts"),navigationLabel:(0,i.Iu)("View posts for all sites"),type:"menu-item",url:"/posts"},{icon:"dashicons-admin-page",slug:"edit-phppost_typepage",title:(0,i.Iu)("Pages"),navigationLabel:(0,i.Iu)("View pages for all sites"),type:"menu-item",url:"/pages"},{icon:"dashicons-admin-plugins",slug:"plugins",title:(0,i.Iu)("Plugins"),navigationLabel:(0,i.Iu)("View plugins for all sites"),type:"menu-item",url:"/plugins",...e&&{children:[{parent:"plugins",slug:"all-sites-plugins-add-new",title:(0,i.Iu)("Add New"),type:"submenu-item",url:"/plugins"},{parent:"plugins",slug:"all-sites-plugins-installed-plugins",title:(0,i.Iu)("Installed Plugins"),type:"submenu-item",url:"/plugins/manage"}]}}]}},"./state/admin-menu/actions/index.js":(e,t,s)=>{s.d(t,{u:()=>n,w:()=>r});s("./state/admin-menu/init.js"),s("./state/data-layer/wpcom/sites/admin-menu/index.js");var i=s("./state/action-types.ts");const n=function(e){return{type:i.ObT,siteId:e}},r=function(e,t){return{type:i.N6b,siteId:e,menu:t}}},"./state/admin-menu/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),r=s("./state/action-types.ts"),o=s("./state/utils/schema-utils.js"),a=s("./state/utils/keyed-reducer.ts"),c=s("./state/utils/with-persistence.ts"),l=s("./state/utils/reducer-utils.ts");s("./state/data-layer/wpcom/sites/admin-menu/index.js");const d={slug:{type:"string"},title:{type:"string"},type:{type:"string"},url:{type:"string"},badge:{type:"string"}},u={type:"object",patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["type"],properties:{...d,icon:{type:"string"},children:{type:"array",items:{type:"object",required:["type","parent"],properties:{...d,parent:{type:"string"}}}}}},additionalProperties:!1}}},p=(0,o.G)(u,(0,a.J)("siteId",(0,c.$)(((e=[],t)=>t.type===r.N6b?t.menu:e)))),h=(0,l.U)({menus:p,requesting:(e=!1,t)=>{switch(t.type){case r.ObT:case r.N6b:return t.type===r.ObT}return e}}),m=(0,n.xi)("adminMenu",h);(0,i.x)(["adminMenu"],m)},"./state/analytics/actions/enhance-with-site-main-product.js":(e,t,s)=>{s.d(t,{n:()=>u});const i=/\/(email|inbox|checkout|domains|purchases|plans|view)(\/)*/i,n=e=>!e||!i.test(e);var r=s("./lib/gsuite/has-gsuite-with-us.ts"),o=s("./lib/titan/index.js"),a=s("./state/action-types.ts"),c=s("./state/selectors/is-domain-only-site.js"),l=s("./state/sites/domains/selectors.js"),d=s("./state/ui/selectors/get-selected-site-id.js");function u(e,t){if(e.type!==a.Wj3)return e;const s=e.meta.analytics[0].payload.url;if(n(s))return e;const i=t(),u=(0,d.Z)(i);let p="site";if((0,c.Z)(i,u)){p="domain";const e=(0,l.eT)(i,u).find((e=>!e.isWPCOMDomain));((0,o.zW)(e)||(0,r.u)(e))&&(p="email")}const h=JSON.parse(JSON.stringify(e));return h.meta.analytics[0].payload.site_main_product=p,h}},"./state/analytics/actions/enhance-with-site-type.js":(e,t,s)=>{s.d(t,{R:()=>o});var i=s("../node_modules/lodash-es/set.js"),n=s("./state/action-types.ts"),r=s("./state/ui/selectors/get-selected-site.ts");function o(e,t){const s=(0,r.Z)(t());return null!==s&&(e.type===n.u2u?(0,i.Z)(e,"meta.analytics[0].payload.properties.site_type",s.jetpack?"jetpack":"wpcom"):(0,i.Z)(e,"meta.analytics[0].payload.site_type",s.jetpack?"jetpack":"wpcom")),e}},"./state/analytics/actions/record-with-client-id.js":(e,t,s)=>{s.d(t,{v:()=>l,y:()=>d});var i=s("../node_modules/lodash-es/set.js"),n=s("./state/action-types.ts"),r=s("./state/oauth2-clients/ui/selectors.js"),o=s("./state/utils/with-enhancers.ts"),a=s("./state/analytics/actions/record.js");const c=(e,t)=>{const s=(0,r.HK)(t());return s&&(e.type===n.u2u?(0,i.Z)(e,"meta.analytics[0].payload.properties.client_id",s):(0,i.Z)(e,"meta.analytics[0].payload.client_id",s)),e},l=(0,o.i)(a.jN,c),d=(0,o.i)(a.AR,c)},"./state/data-layer/wpcom/sites/admin-menu/index.js":(e,t,s)=>{var i=s("../packages/calypso-config/src/index.ts"),n=s("./lib/url/add-query-args.ts"),r=s("./state/action-types.ts"),o=s("./state/admin-menu/actions/index.js"),a=s("./state/data-layer/handler-registry.js"),c=s("./state/data-layer/wpcom-http/actions.js"),l=s("./state/data-layer/wpcom-http/utils.js"),d=s("./state/sites/selectors/get-site-admin-url.ts"),u=s("./state/sites/selectors/get-site-slug.js");const p=(e,t)=>{const s=new RegExp("^/").test(e),i=new RegExp(`^${t?.replace(/^https?:\/\//,"")}`).test(e?.replace(/^https?:\/\//,""));return i&&e.includes("wp-admin/customize.php")&&(e=(0,n.Z)({return:document.location.href},e)),s||i?e:""},h=(e,t,s)=>{if(!e)return e;let n;return Array.isArray(e.children)&&(n=e.children.map((e=>h(e,t,s)))),"import-php"===e.slug&&(0,i._k)("importer/unified")&&(e.url=`/import/${t}`),{...e,url:p(e.url,s),...n?{children:n}:{}}};(0,a.Z9)("state/data-layer/wpcom/admin-menu/index.js",{[r.ObT]:[(0,l.BN)({fetch:e=>(0,c.d)({method:"GET",path:`/sites/${e.siteId}/admin-menu/`,apiNamespace:"wpcom/v2"},e),onSuccess:({siteId:e},t)=>(s,i)=>{if(!Array.isArray(t))return s((0,o.w)(e,t));const n=i(),r=(0,d.Z)(n,e),a=(0,u.Z)(n,e);return s((0,o.w)(e,t.map((e=>h(e,a,r)))))},onError:()=>null})]})},"./state/preferences/use-async-preference.ts":(e,t,s)=>{s.d(t,{L:()=>a});var i=s("../node_modules/react/index.js"),n=s("./state/index.ts"),r=s("./state/preferences/actions.js"),o=s("./state/preferences/selectors.js");const a=({defaultValue:e,preferenceName:t})=>{const s=(0,n.oR)(),a=(0,n.I0)(),c=(0,n.v9)(o.V2),[l,d]=(0,i.useState)((()=>c?(0,o.Oz)(s.getState(),t)??e:"none"));(0,i.useEffect)((()=>{c&&d((0,o.Oz)(s.getState(),t)??e)}),[c,s,t,e]);return[l,(0,i.useCallback)((e=>(d(e),a((0,r.zZ)(t,e)))),[a,t])]}},"./state/purchases/actions.js":(e,t,s)=>{s.d(t,{oq:()=>h,Z_:()=>m,Y9:()=>g,Jh:()=>y,Av:()=>_});var i=s("../packages/i18n-calypso/src/index.js"),n=s("./lib/wp/browser.js"),r=s("./state/action-types.ts"),o=s("./state/admin-menu/actions/index.js"),a=s("./lib/logstash/index.ts"),c=s("./state/notices/actions.ts");s("./state/happychat/init.js");const l=()=>e=>{n.Z.req.get("/help/olark/mine").then((t=>{var s;e((s=t,{type:r.Xeb,config:s}))})).catch((t=>{t&&t.message&&"authorization_required"!==t.error&&(e((0,c.tF)(t.message)),(0,a.C)({feature:"calypso_client",message:"Olark configuration request failed",severity:"error",extra:{error:t.name,status:t.status,message:t.message}}))}))};var d=s("./state/ui/selectors/get-selected-site-id.js");s("./state/purchases/init.js");const u=i.ZP.translate("There was an error retrieving purchases."),p=i.ZP.translate("There was an error removing the purchase."),h=()=>(e,t)=>{const s=(0,d.Z)(t());e({type:r.gbe}),e(l()),s&&e((0,o.u)(s))},m=e=>t=>(t({type:r.pJb,siteId:e}),n.Z.req.get(`/sites/${e}/purchases`).then((s=>{t({type:r.m58,siteId:e,purchases:s})})).catch((()=>{t({type:r._qM,error:u})}))),g=e=>t=>(t({type:r.$5Y}),n.Z.req.get("/me/purchases").then((s=>{t({type:r.XMH,purchases:s,userId:e})})).catch((()=>{t({type:r._MG,error:u})}))),y=(e,t)=>(s,i)=>{const a=(0,d.Z)(i());return new Promise((i=>n.Z.req.post({path:`/purchases/${e}/delete`,apiNamespace:"wpcom/v2"}).then((e=>{s({type:r.WjV,purchases:e.purchases,userId:t}),s(l()),a&&s((0,o.u)(a)),i(e)})).catch((e=>{s({type:r.RIF,error:e.message||p}),i(e)}))))},_=()=>e=>e({type:r.Fsf})},"./state/purchases/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),r=s("./state/action-types.ts");const o={data:[],error:null,isFetchingSitePurchases:!1,isFetchingUserPurchases:!1,hasLoadedSitePurchasesFromServer:!1,hasLoadedUserPurchasesFromServer:!1};function a(e,t){return t.type===r.XMH?t.purchases:(t.type===r.m58&&(e=e.filter((e=>parseInt(e.blog_id,10)!==parseInt(t.siteId,10)||!!t.purchases.some((t=>t.ID===e.ID))))),t.type===r.WjV&&(e=e.filter((e=>!!t.purchases.some((t=>t.ID===e.ID))))),function(e,t){return t.reduce(((e,t)=>function(e,t){let s=!1;const i=e.map((e=>t.ID===e.ID?(s=!0,t):e));return s?i:[...i,t]}(e,t)),e)}(e,t.purchases))}const c=(0,n.xi)("purchases",((e=o,t)=>{switch(t.type){case r.gbe:return{...e,data:[],hasLoadedSitePurchasesFromServer:!1,hasLoadedUserPurchasesFromServer:!1};case r.pJb:return{...e,isFetchingSitePurchases:!0};case r.$5Y:return{...e,isFetchingUserPurchases:!0};case r.WjV:return{...e,data:a(e.data,t),error:null,isFetchingSitePurchases:!1,isFetchingUserPurchases:!1,hasLoadedSitePurchasesFromServer:!0,hasLoadedUserPurchasesFromServer:!0};case r.m58:return{...e,data:a(e.data,t),error:null,isFetchingSitePurchases:!1,hasLoadedSitePurchasesFromServer:!0};case r.XMH:return{...e,data:a(e.data,t),error:null,isFetchingUserPurchases:!1,hasLoadedUserPurchasesFromServer:!0};case r.RIF:return{...e,error:t.error,hasLoadedSitePurchasesFromServer:!0,hasLoadedUserPurchasesFromServer:!0};case r._qM:return{...e,error:t.error,hasLoadedSitePurchasesFromServer:!0,isFetchingSitePurchases:!1};case r._MG:return{...e,error:t.error,hasLoadedUserPurchasesFromServer:!0,isFetchingUserPurchases:!1};case r.Fsf:return{...e,hasLoadedSitePurchasesFromServer:!1,isFetchingSitePurchases:!1}}return e}));(0,i.x)(["purchases"],c)},"./state/purchases/selectors/fetching.js":(e,t,s)=>{s.d(t,{GR:()=>n,Mo:()=>i,iJ:()=>r,w2:()=>o});s("./state/purchases/init.js");const i=e=>e.purchases.isFetchingUserPurchases,n=e=>e.purchases.isFetchingSitePurchases,r=e=>e.purchases.hasLoadedUserPurchasesFromServer,o=e=>e.purchases.hasLoadedSitePurchasesFromServer},"./state/purchases/selectors/get-purchases.js":(e,t,s)=>{s.d(t,{G:()=>o});var i=s("../packages/state-utils/src/index.ts"),n=s("../packages/js-utils/src/snake-to-camel-case.ts");function r(e){const t={id:Number(e.ID),active:Boolean(e.active),amount:Number(e.amount),attachedToPurchaseId:Number(e.attached_to_purchase_id),billPeriodDays:Number(e.bill_period_days),billPeriodLabel:e.bill_period_label,mostRecentRenewDate:e.most_recent_renew_date,canDisableAutoRenew:Boolean(e.can_disable_auto_renew),canReenableAutoRenewal:Boolean(e.can_reenable_auto_renewal),canExplicitRenew:Boolean(e.can_explicit_renew),costToUnbundle:e.cost_to_unbundle?Number(e.cost_to_unbundle):Number(e.amount),costToUnbundleText:e.cost_to_unbundle_display?e.cost_to_unbundle_display:e.price_text,currencyCode:e.currency_code,currencySymbol:e.currency_symbol,description:e.description,domain:e.domain,domainRegistrationAgreementUrl:e.domain_registration_agreement_url||null,error:null,blogCreatedDate:e.blog_created_date,expiryDate:e.expiry_date,expiryStatus:(0,n.Z)(e.expiry_status),iapPurchaseManagementLink:e.iap_purchase_management_link,includedDomain:e.included_domain,includedDomainPurchaseAmount:e.included_domain_purchase_amount,introductoryOffer:e.introductory_offer?{costPerInterval:Number(e.introductory_offer.cost_per_interval),endDate:String(e.introductory_offer.end_date),intervalCount:Number(e.introductory_offer.interval_count),intervalUnit:String(e.introductory_offer.interval_unit),isWithinPeriod:Boolean(e.introductory_offer.is_within_period),transitionAfterRenewalCount:Number(e.introductory_offer.transition_after_renewal_count),isNextRenewalUsingOffer:Boolean(e.introductory_offer.is_next_renewal_using_offer),remainingRenewalsUsingOffer:Number(e.introductory_offer.remaining_renewals_using_offer),shouldProrateWhenOfferEnds:Boolean(e.introductory_offer.should_prorate_when_offer_ends),isNextRenewalProrated:Boolean(e.introductory_offer.is_next_renewal_prorated)}:null,isCancelable:Boolean(e.is_cancelable),isDomainRegistration:Boolean(e.is_domain_registration),isLocked:Boolean(e.is_locked),isInAppPurchase:Boolean(e.is_iap_purchase),isRechargeable:Boolean(e.is_rechargable),isRefundable:Boolean(e.is_refundable),isRenewable:Boolean(e.is_renewable),isRenewal:Boolean(e.is_renewal),meta:e.meta,priceText:e.price_text,priceTierList:e.price_tier_list?.map((e=>({minimumUnits:e.minimum_units,maximumUnits:e.maximum_units,minimumPrice:e.minimum_price,maximumPrice:e.maximum_price,minimumPriceDisplay:e.minimum_price_display,maximumPriceDisplay:e.maximum_price_display}))),partnerName:e.partner_name,partnerSlug:e.partner_slug,partnerKeyId:e.partner_key_id,payment:{name:e.payment_name,type:e.payment_type,countryCode:e.payment_country_code,countryName:e.payment_country_name,storedDetailsId:e.stored_details_id},pendingTransfer:Boolean(e.pending_transfer),productId:Number(e.product_id),productName:e.product_name,productSlug:e.product_slug,productType:e.product_type,productDisplayPrice:e.product_display_price,priceInteger:e.price_integer,totalRefundAmount:Number(e.total_refund_amount),totalRefundInteger:Number(e.total_refund_integer),totalRefundCurrency:e.total_refund_currency,totalRefundText:e.total_refund_text,refundAmount:Number(e.refund_amount),refundInteger:Number(e.refund_integer),refundOptions:e.refund_options,refundText:e.refund_text,refundPeriodInDays:e.refund_period_in_days,regularPriceText:e.regular_price_text,regularPriceInteger:e.regular_price_integer,renewDate:e.renew_date,saleAmount:e.sale_amount,saleAmountInteger:e.sale_amount_integer,siteId:Number(e.blog_id),siteName:e.blogname,subscribedDate:e.subscribed_date,subscriptionStatus:e.subscription_status,tagLine:e.tag_line,taxAmount:e.tax_amount,taxText:e.tax_text,purchaseRenewalQuantity:e.renewal_price_tier_usage_quantity||null,userId:Number(e.user_id),isAutoRenewEnabled:1===parseInt(e.auto_renew??"")};return function(e){return"credit_card"===e.payment_type}(e)&&(t.payment.creditCard={id:Number(e.payment_card_id),type:e.payment_card_type,processor:e.payment_card_processor,number:e.payment_details,expiryDate:e.payment_expiry}),"paypal_direct"===e.payment_type&&(t.payment.expiryDate=e.payment_expiry),t}s("./state/purchases/init.js");const o=(0,i.P1)((e=>{return t=e.purchases.data,Array.isArray(t)?t.map(r):[];var t}),(e=>[e.purchases.data]))},"./state/purchases/selectors/get-site-purchases.ts":(e,t,s)=>{s.d(t,{q:()=>n});var i=s("./state/purchases/selectors/get-purchases.js");s("./state/purchases/init.js");const n=(e,t)=>(0,i.G)(e).filter((e=>e.siteId===t))},"./state/selectors/are-all-sites-single-user.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("../packages/state-utils/src/index.ts"),n=s("./state/selectors/get-sites-items.ts"),r=s("./state/sites/selectors/is-single-user-site.js");const o=(0,i.P1)((e=>{const t=Object.keys((0,n.Z)(e));return!!t.length&&t.every((t=>(0,r.Z)(e,t)))}),n.Z)},"./state/selectors/can-any-site-have-plugins.ts":(e,t,s)=>{s.d(t,{y:()=>a});var i=s("../packages/state-utils/src/index.ts"),n=s("./state/selectors/can-current-user.js"),r=s("./state/selectors/get-sites.js"),o=s("./state/sites/selectors/is-jetpack-site.ts");s("./state/ui/init.js");const a=(0,i.P1)((e=>(0,r.Z)(e).some((t=>t&&(0,o.Z)(e,t.ID)&&(0,n.i)(e,t.ID,"manage_options")&&t.visible))),(e=>[e.sites.items,e.currentUser.capabilities]))},"./state/selectors/get-primary-domain-by-site-id.js":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("./state/sites/domains/selectors.js");function n(e,t){const s=(0,i.eT)(e,t);return 0===s.length?null:s.filter((e=>e.isPrimary))[0]}},"./state/selectors/get-visible-sites.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("../packages/state-utils/src/index.ts"),n=s("./state/selectors/get-sites-items.ts"),r=s("./state/sites/selectors/get-site.js");const o=(0,i.P1)((e=>Object.values((0,n.Z)(e)).filter((e=>!0===e.visible)).map((t=>(0,r.Z)(e,t.ID)))),(e=>[(0,n.Z)(e)]))},"./state/selectors/has-loaded-sites.js":(e,t,s)=>{function i(e){return null!==e.sites.items}s.d(t,{Z:()=>i})},"./state/selectors/is-site-wpcom-staging.ts":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("./state/selectors/get-raw-site.ts");function n(e,t){if(!t)return!1;const s=(0,i.Z)(e,t);return s?.is_wpcom_staging_site??!1}},"./state/sites/hooks/use-sites-sorting.ts":(e,t,s)=>{s.d(t,{KR:()=>l,ph:()=>u,pt:()=>d});var i=s("../packages/sites/src/use-sites-list-sorting.tsx"),n=s("./state/index.ts"),r=s("./state/current-user/selectors.js"),o=s("./state/preferences/use-async-preference.ts");const a={sortKey:"alphabetically",sortOrder:"asc"},c={sortKey:"lastInteractedWith",sortOrder:"desc"},l=e=>{const[t,s]=e.split("-"),n={sortKey:t,sortOrder:s};return(0,i.Rr)(n)?n:a},d=e=>`${e.sortKey}-${e.sortOrder}`,u=()=>{const e=(0,n.v9)((e=>(0,r.bo)(e))),[t,s]=(0,o.L)({defaultValue:d(e&&e>6?c:a),preferenceName:"sites-sorting"});return{hasSitesSortingPreferenceLoaded:"none"!==t,sitesSorting:l(t),onSitesSortingChange:e=>{s(d(e))}}}},"./state/sites/selectors/get-site-admin-url.ts":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("./state/sites/selectors/get-site-option.ts");function n(e,t,s=""){const n=(0,i.Z)(e,t,"admin_url");return n?n+s.replace(/^\//,""):null}},"./state/sites/selectors/get-site-id.js":(e,t,s)=>{s.d(t,{Z:()=>n});var i=s("./state/sites/selectors/get-site.js");function n(e,t){if(!t)return null;const s=(0,i.Z)(e,t);return s?s.ID:null}},"./state/ui/actions/set-sites.js":(e,t,s)=>{s.d(t,{B:()=>n,_:()=>r});var i=s("./state/action-types.ts");s("./state/ui/init.js");function n(e){return{type:i.bgv,siteId:e}}function r(){return{type:i.bgv,siteId:null}}},"./state/utils/with-enhancers.ts":(e,t,s)=>{s.d(t,{i:()=>i});const i=(e,t)=>(...s)=>{const i=e(...s);return Array.isArray(t)||(t=[t]),(e,s,n)=>{const r=i=>e((e=>t.reduce(((e,t)=>t(e,s)),e))(i)),o=e=>"function"==typeof e?e(o,s,n):r(e);return o(i)}}},"../packages/calypso-products/src/constants/titan.ts":(e,t,s)=>{s.d(t,{A$:()=>i,M7:()=>n,xB:()=>r});const i="wp_titan_mail_monthly",n="wp_titan_mail_yearly",r=[i,n]},"../packages/components/src/card/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var i=s("../node_modules/classnames/index.js"),n=s.n(i),r=s("../node_modules/react/index.js"),o=s("../packages/components/src/gridicon/index.tsx"),a=(s("../packages/components/src/card/style.scss"),s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"));const c=({children:e,className:t,compact:s,displayAsLink:i,highlight:c,tagName:l="div",href:d,target:u,showLinkIcon:p=!0,...h},m)=>{const g=n()("card",t,{"is-card-link":i||d,"is-clickable":h.onClick,"is-compact":s,"is-highlight":c},!!c&&"is-"+c);return d?(0,a.BX)("a",{...h,href:d,target:u,className:g,ref:m,children:[p&&(0,a.tZ)(o.Z,{className:"card__link-indicator",icon:u?"external":"chevron-right"}),e]}):(0,r.createElement)(l,{...h,className:g,ref:m},i&&(0,a.tZ)(o.Z,{className:"card__link-indicator",icon:u?"external":"chevron-right"}),e)},l=(0,r.forwardRef)(c);l.displayName="Card";const d=(0,r.memo)(l)},"../packages/components/src/spinner/index.tsx":(e,t,s)=>{s.d(t,{$:()=>c});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/classnames/index.js"),r=s.n(n),o=s("../node_modules/react/index.js"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends o.PureComponent{render(){const e=r()(this.props.baseClassName,this.props.className),t={width:this.props.size,height:this.props.size,fontSize:this.props.size};return(0,a.tZ)("div",{className:e,children:(0,a.tZ)("div",{className:"spinner__outer",style:t,children:(0,a.tZ)("div",{className:"spinner__inner"})})})}}(0,i.Z)(c,"defaultProps",{size:20,baseClassName:"spinner"})},"../packages/js-utils/src/snake-to-camel-case.ts":(e,t,s)=>{function i(e){return e?e.toLowerCase().replace(/([-_][a-z0-9])/g,(e=>e.toUpperCase().replace("-","").replace("_",""))):""}s.d(t,{Z:()=>i})},"../packages/search/src/search.tsx":(e,t,s)=>{s.d(t,{Z:()=>f});var i=s("../node_modules/@wordpress/components/build-module/button/index.js"),n=s("../node_modules/@wordpress/components/build-module/spinner/index.js"),r=s("../node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),o=s("../node_modules/@wordpress/icons/build-module/icon/index.js"),a=s("../node_modules/@wordpress/icons/build-module/library/search.js"),c=s("../node_modules/@wordpress/icons/build-module/library/close.js"),l=s("../node_modules/@wordpress/react-i18n/build-module/index.js"),d=s("../node_modules/classnames/index.js"),u=s.n(d),p=s("../node_modules/lodash-es/debounce.js"),h=s("../node_modules/react/index.js");var m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g=e=>t=>{switch(t.key){case" ":case"Enter":e(t)}},y=({children:e,childrenBeforeCloseButton:t,delaySearch:s=!1,disabled:d=!1,pinned:_=!1,onSearchClose:f,onSearchChange:b,onSearch:S,onBlur:Z,onKeyDown:x,onClick:v,describedBy:j,delayTimeout:w=300,defaultValue:k="",defaultIsOpen:P=!1,autoFocus:I=!1,onSearchOpen:C,recordEvent:N,overlayStyling:L,placeholder:D,inputLabel:R,disableAutocorrect:T=!1,className:M,dir:B,fitsContainer:F=!1,searching:A=!1,compact:O=!1,hideOpenIcon:E=!1,openIconSide:$="left",minLength:U,maxLength:q,hideClose:H=!1,isReskinned:V=!1,searchMode:W="when-typing",searchIcon:K},z)=>{const{__:X}=(0,l.QT)(),[Y,J]=h.useState(k),[G,Q]=h.useState(P),[ee,te]=h.useState(I),se=(0,r.Z)(y,"search"),ie=h.useRef(null),ne=h.useRef(null),re=h.useRef(null),oe=h.useRef(!0);h.useImperativeHandle(z,(()=>({focus(){ie.current?.focus()},blur(){ie.current?.blur()},setKeyword(e){J(e)},clear(){J("")}})),[]);const ae=h.useMemo((()=>S?s?(0,p.Z)(S,w):S:()=>{}),[S,w,s]);(0,h.useEffect)((()=>{Y&&S?.(Y)}),[]),function(e,t){const s=h.useRef(!1);h.useEffect((()=>{if(s.current)return e();s.current=!0}),t)}((()=>{"on-enter"!==W&&(Y?ae(Y):(s&&ae.cancel?.(),S?.(Y)),b?.(Y))}),[Y]);const ce=e=>{e.preventDefault(),J(""),Q(!0),N?.("Clicked Open Search")},le=e=>{e.preventDefault(),d||(J(""),"on-enter"===W&&(S?.(""),b?.("")),Q(!1),ie.current&&(ie.current.value=""),_?(ie.current?.blur(),ne.current?.focus()):ie.current?.focus(),f?.(e),N?.("Clicked Close Search"))};h.useEffect((()=>{oe.current?oe.current=!1:G&&(ie.current?.focus(),ne.current?.blur())}),[G]);const de=g(le),ue=g(ce),pe=()=>{window.requestAnimationFrame((()=>{re.current&&ie.current&&(re.current.scrollLeft=(e=>{if(!e.createTextRange)return e.scrollLeft;const t=e.createTextRange(),s=window.getComputedStyle(e,void 0),i=parseFloat(s.paddingLeft),n=t.getBoundingClientRect();return e.getBoundingClientRect().left+e.clientLeft+i-n.left})(ie.current))}))};h.useEffect((()=>{pe()}),[Y,G,ee]);const he=Y,me=D||X("Search…","default"),ge=G||!_||he,ye=T&&{autoComplete:"off",autoCorrect:"off",spellCheck:"false"},_e=u()("search-component",M,B,{"is-expanded-to-container":F,"is-open":ge,"is-searching":A,"is-compact":O,"has-focus":ee,"has-open-icon":!E}),fe=u()("search-component__input-fade",B),be=u()("search-component__input",B),Se="right"===$&&!Y,Ze=()=>{const e=_&&!G;return K||(V?(()=>{const e=(0,m.BX)("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8269 19.8984L8.49362 24.5651L7.50586 23.4362L12.8392 18.7695L13.8269 19.8984Z"}),(0,m.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.9994 21.1667C21.221 21.1667 23.8327 18.555 23.8327 15.3333C23.8327 12.1117 21.221 9.5 17.9994 9.5C14.7777 9.5 12.166 12.1117 12.166 15.3333C12.166 18.555 14.7777 21.1667 17.9994 21.1667ZM17.9994 22.6667C22.0494 22.6667 25.3327 19.3834 25.3327 15.3333C25.3327 11.2832 22.0494 8 17.9994 8C13.9493 8 10.666 11.2832 10.666 15.3333C10.666 19.3834 13.9493 22.6667 17.9994 22.6667Z"})]});return(0,m.tZ)(o.Z,{icon:e,size:32,className:"search-component__icon-search"})})():(0,m.tZ)(i.Z,{className:"search-component__icon-navigation",ref:ne,onClick:e?ce:()=>ie.current?.focus(),tabIndex:e?0:void 0,onKeyDown:e?ue:void 0,"aria-controls":"search-component-"+se,"aria-label":X("Open Search","default"),children:!E&&(0,m.tZ)(o.Z,{icon:a.Z,className:"search-component__open-icon"})}))};return(0,m.BX)("div",{dir:B,className:_e,role:"search",children:[(0,m.tZ)(n.ZP,{}),"left"===$&&Ze(),(0,m.BX)("form",{className:fe,action:".",onSubmit:e=>{"on-enter"===W&&(S?.(Y),b?.(Y)),e.preventDefault(),e.stopPropagation()},children:[(0,m.tZ)("input",{type:"search",id:"search-component-"+se,autoFocus:I,"aria-describedby":j,"aria-label":R||X("Search","default"),"aria-hidden":!ge,className:be,placeholder:me,role:"searchbox",value:he,ref:ie,onChange:e=>{J(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&window.innerWidth<480&&blur(),_&&("Escape"===e.key&&de(e),pe())},onKeyDown:e=>{pe(),"Escape"===e.key&&""===e.currentTarget.value&&de(e),x?.(e)},onMouseUp:v,onFocus:()=>{if(te(!0),C?.(),!ie.current)return;const e=ie.current.value;e&&(ie.current.value="",ie.current.value=e)},onBlur:e=>{Z?.(e),te(!1)},disabled:d,autoCapitalize:"none",dir:B,maxLength:q,minLength:U,...ye}),"function"==typeof L?(0,m.tZ)("div",{className:"search-component__text-overlay",ref:re,children:L(Y)}):null]}),t,Se?Ze():H||!Y&&!G?null:(0,m.tZ)(i.Z,{className:"search-component__icon-navigation",onClick:le,tabIndex:0,onKeyDown:de,"aria-controls":"search-component-"+se,"aria-label":X("Close Search","default"),children:(0,m.tZ)(o.Z,{icon:c.Z,className:"search-component__close-icon"})}),e]})},_=h.forwardRef(y);_.displayName="Search";const f=_},"../packages/search/src/use-fuzzy-search.ts":(e,t,s)=>{s.d(t,{X:()=>o});var i=s("../node_modules/fuse.js/dist/fuse.esm.js"),n=s("../node_modules/react/index.js");const r={threshold:.4,ignoreLocation:!0},o=({data:e,keys:t=[],query:s="",options:o=r})=>{const a=(0,n.useMemo)((()=>new i.Z([],{keys:t,includeScore:!1,includeMatches:!1,...o})),[t,o]);return(0,n.useMemo)((()=>s?(a.setCollection(e),a.search(s).map((({item:e})=>e))):e),[a,s,e])}},"../packages/sites/src/create-sites-list-component.ts":(e,t,s)=>{s.d(t,{J:()=>o});var i=s("../packages/sites/src/use-sites-list-filtering.tsx"),n=s("../packages/sites/src/use-sites-list-grouping.tsx"),r=s("../packages/sites/src/use-sites-list-sorting.tsx");const o=({grouping:e,sorting:t,filtering:s}={})=>({children:o,...a})=>{const c=((e,t)=>{if(e){const e=t,{currentStatusGroup:s,statuses:i}=(0,n.UC)(e.sites,e.grouping);return{...e,sites:s,statuses:i}}return t})(e??!0,a),l=((e,t)=>{if(e){const e=t;return{...e,sites:(0,r.mi)(e.sites,e.sorting??{})}}return t})(t??!0,c),d=((e,t)=>{if(e){const e=t;return{...e,sites:(0,i.t)(e.sites,e.filtering??{})}}return t})(s??!0,l);return o(d)}},"../packages/sites/src/site-status.tsx":(e,t,s)=>{s.d(t,{Lc:()=>r,Lr:()=>c,QB:()=>o,Z$:()=>a});var i=s("../node_modules/@wordpress/react-i18n/build-module/index.js"),n=s("../node_modules/react/index.js");const r=["public","private","coming-soon","redirect"],o=e=>e.options?.is_redirect?"redirect":e.is_coming_soon||e.is_private&&"unlaunched"===e.launch_status?"coming-soon":e.is_private?"private":"public",a=()=>{const{_x:e}=(0,i.QT)();return(0,n.useMemo)((()=>({"coming-soon":e("Coming soon","site"),private:e("Private","site"),public:e("Public","site"),redirect:e("Redirect","site")})),[e])},c=e=>a()[o(e)]},"../packages/sites/src/use-sites-list-filtering.tsx":(e,t,s)=>{s.d(t,{$:()=>n,t:()=>r});var i=s("../packages/search/src/use-fuzzy-search.ts");const n=["name","slug","title","URL"];function r(e,{search:t}){return(0,i.X)({data:e,keys:n,query:t})}},"../packages/sites/src/use-sites-list-grouping.tsx":(e,t,s)=>{s.d(t,{UC:()=>c,Z8:()=>a,qS:()=>o});var i=s("../node_modules/@wordpress/react-i18n/build-module/index.js"),n=s("../node_modules/react/index.js"),r=s("../packages/sites/src/site-status.tsx");const o="all",a=[o,...r.Lc],c=(e,{showHidden:t=!1,status:s})=>{const{__:o}=(0,i.QT)(),c=(0,r.Z$)(),l=(0,n.useMemo)((()=>({all:o("All sites"),...c})),[o,c]),[d,u]=(0,n.useMemo)((()=>{const s=a.map((e=>({name:e,title:l[e],count:0,hiddenCount:0}))),i={all:0,"coming-soon":0,public:0,private:0,redirect:0},n=e.reduce(((e,s)=>{const n=(0,r.QB)(s);return s.visible||t||(i.all++,i[n]++),(s.visible||t)&&e[n].push(s),s.visible&&!t&&e.all.push(s),e}),{all:t?e:[],"coming-soon":[],public:[],private:[],redirect:[]});for(const e of s)e.count=n[e.name].length,e.hiddenCount=i[e.name];return[s,n]}),[e,l,t]);return{statuses:d,currentStatusGroup:u[s]}}},"../packages/sites/src/use-sites-list-sorting.tsx":(e,t,s)=>{s.d(t,{Rr:()=>c,mi:()=>l});var i=s("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),n=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const o=["lastInteractedWith","updatedAt","alphabetically"],a=["asc","desc"],c=e=>{const{sortKey:t,sortOrder:s}=e;return o.includes(t)&&a.includes(s)};function l(e,{sortKey:t,sortOrder:s="asc"}){return(0,n.useMemo)((()=>{switch(t){case"lastInteractedWith":return function(e){const t=e.reduce(((e,t,s)=>(e[t.ID]={index:s,site:t},e)),{}),s=new Set;return e.reduce(((e,i)=>(s.has(i.ID)||i?.is_wpcom_staging_site&&i.options?.wpcom_production_blog_id&&!s.has(i.options?.wpcom_production_blog_id)&&t[i.options?.wpcom_production_blog_id]||(e.push(i),s.add(i.ID),i.options?.wpcom_staging_blog_ids?.sort?.(((e,s)=>t[e]?t[s]?t[e]?.index-t[s]?.index:1:-1)).forEach((i=>{t[i]&&!s.has(i)&&(e.push(t[i].site),s.add(i))}))),e)),[])}(function(e,t){const s=e.filter(p),i=e.filter((e=>!e.user_interactions||0===e.user_interactions.length)),n=[...u(s),...i.sort(((e,t)=>m(e,t,"desc")))];return"desc"===t?n:n.reverse()}(e,s));case"alphabetically":return function(e,t){return[...e].sort(((e,s)=>h(e,s,t)))}(e,s);case"updatedAt":return function(e,t){return[...e].sort(((e,s)=>m(e,s,t)))}(e,s);default:return e}}),[e,t,s])}const d=(e,t)=>{const s=new Date(e).valueOf(),i=new Date(s-864e5*t);return`${i.getFullYear()}-${i.getMonth().toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}`},u=e=>{const[t]=e.map((e=>e.user_interactions)).flat().sort().reverse(),s=d(t,3),i=d(t,7),n=d(t,14),r=e=>e.reduce(((e,t)=>(t>=s?e+=3:t>=i?e+=2:t>=n&&(e+=1),e)),0);return e.sort(((e,t)=>{const s=e.user_interactions[0],i=t.user_interactions[0];if(s>n||i>n){const s=r(e.user_interactions),i=r(t.user_interactions);if(s>i)return-1;if(s<i)return 1}return s>i?-1:s<i?1:h(e,t,"asc")}))},p=e=>!!e.user_interactions&&e.user_interactions.length>0;function h(e,t,s){if(!e?.title||!t?.title)return 0;const i=e.title.toLocaleLowerCase(),n=t.title.toLocaleLowerCase();return i>n?"asc"===s?1:-1:i<n?"asc"===s?-1:1:0}function m(e,t,s){return e.options?.updated_at&&t.options?.updated_at?e.options.updated_at>t.options.updated_at?"asc"===s?1:-1:e.options.updated_at<t.options.updated_at?"asc"===s?-1:1:0:0}(0,i.o)((e=>t=>{const s=l(t.sites,t.sitesSorting);return(0,r.tZ)(e,{...t,sites:s})}),"withSitesSorting")},"./assets/images/domains/domain.svg":e=>{e.exports="/calypso/images/../images/domain-130afdfc6b88665edb90.svg"}}]);